{"remainingRequest":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\myVote.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\myVote.vue","mtime":1577801230475},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJteVZvdGUiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzaG93U2hhcmU6IGZhbHNlLAogICAgICAgICAgICBpc0xvZ2luOiBmYWxzZSwKICAgICAgICAgICAgbG9naW5Vc2VyOiB7fSwKICAgICAgICAgICAgYWN0aXZlOiAwLAogICAgICAgICAgICB2b3RlTGlzdDogW10sCiAgICAgICAgICAgIFFSY29kZTogJycsCiAgICAgICAgICAgIHNob3J0VXJsOiAnJywKICAgICAgICAgICAgcXVlc0xpc3Q6W10KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldFF1ZXNMaXN0KCkgewogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLndlYnNpdGUgKyAiL3F1ZXN0aW9ubmFpcmUvZ2V0UXVlcyIKICAgICAgICAgICAgdGhpcy5heGlvcy5wb3N0KHVybCx0aGlzLmxvZ2luVXNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhhdC5xdWVzTGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGF0LnF1ZXNMaXN0KQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5p+l6K+i5aSx6LSlIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZ2V0Vm90ZUxpc3QoKSB7CiAgICAgICAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMud2Vic2l0ZSArICIvdm90ZS9nZXRWb3RlIgogICAgICAgICAgICB0aGlzLmF4aW9zLmdldCh1cmwsIHsKICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIGNyZWF0b3JJZDogdGhpcy5sb2dpblVzZXIuaWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhhdC52b3RlTGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuafpeivouWksei0pSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGRlbGV0ZVZvdGUodm90ZSkgewogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLndlYnNpdGUgKyAiL3ZvdGUvZGVsVm90ZSIKICAgICAgICAgICAgdGhpcy5heGlvcy5wb3N0KHVybCwgdm90ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhhdC4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gY2xvc2UKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhhdC4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOWksei0pScKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gY2xvc2UKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBkb0RlbGV0ZShpZCkgewogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5jb25maXJtKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnoa7orqTliKDpmaQnCiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgLy8gb24gY29uZmlybQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGF0LnZvdGVMaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQudm90ZUxpc3RbaV0uaWQgPT0gaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC52b3RlTGlzdFtpXS5mbGFnID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5kZWxldGVWb3RlKHRoYXQudm90ZUxpc3RbaV0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgLy8gb24gY2FuY2VsCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZ2V0UVJjb2RlKGlkLHR5cGUpIHsKICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICAgICAgICBsZXQgbG9uZ1VybCA9IHRoaXMud2Vic2l0ZTIgKyB0eXBlKyc/dm90ZUlkPScgKyBpZDsKICAgICAgICAgICAgbGV0IHVybDIgPSAnYXBpL2dldFFSY29kZSc7CiAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KHVybDIsIHsKICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIHRleHQ6IGxvbmdVcmwsCiAgICAgICAgICAgICAgICAgICAga2V5OiAnZDZlOTNkZjU4OTM3Yjk5OTVjNTJkNzk5OGI4NTEzYjgnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZXJyb3JfY29kZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhhdC5RUmNvZGUgPSAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCIgKyByZXNwb25zZS5kYXRhLnJlc3VsdC5iYXNlNjRfaW1hZ2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdldFNob3J0VXJsKGlkLHR5cGUpIHsKICAgICAgICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICAgICAgICBsZXQgc2hhcmVVcmwgPSB0aGlzLndlYnNpdGUyICsgdHlwZSsnP3ZvdGVJZD0nICsgaWQ7CiAgICAgICAgICAgIGxldCB1cmwgPSAiYXBpL2dldFNob3J0VXJsIgogICAgICAgICAgICB0aGlzLmF4aW9zLmdldCh1cmwsIHsKICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIGZvcm1hdDogJ2pzb24nLAogICAgICAgICAgICAgICAgICAgIHVybDogc2hhcmVVcmwsCiAgICAgICAgICAgICAgICAgICAga2V5OiAnNWUwOWUxZWZiMWI2M2MyZDkwNTQxOTkyQDAxZDFmOTQ3MzI4ZTVhYTIwNjgwYzc1NGMxMmVlZjkwJywKICAgICAgICAgICAgICAgICAgICBleHBpcmVEYXRlOiAnMjAyMC0wMy0zMScKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmVyciA9PSAiIikgewogICAgICAgICAgICAgICAgICAgIHRoYXQuc2hvcnRVcmwgPSByZXNwb25zZS5kYXRhLnVybDsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICB0b1NoYXJlKGlkLHR5cGUpIHsKICAgICAgICAgICAgdGhpcy5nZXRRUmNvZGUoaWQsdHlwZSk7CiAgICAgICAgICAgIHRoaXMuZ2V0U2hvcnRVcmwoaWQsdHlwZSk7CiAgICAgICAgICAgIHRoaXMuc2hvd1NoYXJlID0gdHJ1ZTsKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgibG9naW5Vc2VyIikgIT0gbnVsbCB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9naW5Vc2VyIikgIT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLmlzTG9naW4gPSB0cnVlOwogICAgICAgICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgibG9naW5Vc2VyIikgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgdGhpcy5sb2dpblVzZXIgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImxvZ2luVXNlciIpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvZ2luVXNlciIpICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHRoaXMubG9naW5Vc2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9naW5Vc2VyIikpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMuZ2V0Vm90ZUxpc3QoKTsKICAgICAgICB0aGlzLmdldFF1ZXNMaXN0KCk7CiAgICB9Cgp9Cg=="},{"version":3,"sources":["myVote.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"myVote.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"myVote\">\r\n        <van-row>\r\n            <van-col span=\"2\">\r\n                <img src=\"../assets/images/h1.png\" height=\"24px\" width=\"24px\" style=\"margin-left: 8px;margin-top: 6px\"/>\r\n            </van-col>\r\n            <van-col span=\"22\">\r\n                <span style=\"display: block;margin: 6px 0px\">我发起的投票</span>\r\n            </van-col>\r\n        </van-row>\r\n        <van-tabs v-model=\"active\">\r\n            <van-tab title=\"图文投票\">\r\n                <div v-for=\"(item,i) in voteList\" :key=i>\r\n                    <div v-if=\"item.flag==false\">\r\n                        <van-panel :title=item.title desc=\"标题\" :status=item.status>\r\n                            <div class=\"detail-text\" style=\"margin: 10px 16px\">{{item.description}}</div>\r\n                            <div slot=\"footer\" class=\"d-flex justify-content-end\">\r\n                                <van-button size=\"small\" style=\"margin-right: 10px\"\r\n                                            :to=\"{path:'/detail',query: { voteId: item.id }}\">详情\r\n                                </van-button>\r\n                                <van-button size=\"small\" style=\"margin-right: 10px\" @click=\"toShare(item.id,'/detail')\">分享\r\n                                </van-button>\r\n                                <van-button size=\"small\" type=\"danger\" @click=\"doDelete(item.id)\">删除</van-button>\r\n                            </div>\r\n                        </van-panel>\r\n                        <hr style=\"height: 7px\">\r\n                    </div>\r\n                </div>\r\n            </van-tab>\r\n            <van-tab title=\"问卷调查\">\r\n                <div v-for=\"(item,i) in quesList\" :key=i>\r\n                    <div v-if=\"item.flag==false\">\r\n                        <van-panel :title=item.title desc=\"标题\" :status=item.status>\r\n                            <div class=\"detail-text\" style=\"margin: 10px 16px\">{{item.description}}</div>\r\n                            <div slot=\"footer\" class=\"d-flex justify-content-end\">\r\n                                <van-button size=\"small\" style=\"margin-right: 10px\"\r\n                                            :to=\"{path:'/quesStart',query: { voteId: item.id }}\">详情\r\n                                </van-button>\r\n                                <van-button size=\"small\" style=\"margin-right: 10px\" @click=\"toShare(item.id,'/quesStart')\">分享\r\n                                </van-button>\r\n                                <van-button size=\"small\" type=\"danger\" @click=\"doDelete(item.id)\">删除</van-button>\r\n                            </div>\r\n                        </van-panel>\r\n                        <hr style=\"height: 7px\">\r\n                    </div>\r\n                </div>\r\n            </van-tab>\r\n        </van-tabs>\r\n        <van-dialog\r\n                v-model=\"showShare\"\r\n                title=\"手机扫一扫\"\r\n        >\r\n            <van-row type=\"flex\" justify=\"center\">\r\n                <van-col><img :src=QRcode></van-col>\r\n            </van-row>\r\n            <van-row type=\"flex\" justify=\"center\">\r\n                <van-col>\r\n                    <span>复制链接：{{shortUrl}}</span>\r\n                </van-col>\r\n            </van-row>\r\n        </van-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"myVote\",\r\n        data() {\r\n            return {\r\n                showShare: false,\r\n                isLogin: false,\r\n                loginUser: {},\r\n                active: 0,\r\n                voteList: [],\r\n                QRcode: '',\r\n                shortUrl: '',\r\n                quesList:[]\r\n            }\r\n        },\r\n        methods: {\r\n            getQuesList() {\r\n                let that = this;\r\n                let url = this.website + \"/questionnaire/getQues\"\r\n                this.axios.post(url,this.loginUser).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        that.quesList = response.data.data;\r\n                        console.log(that.quesList)\r\n                    } else {\r\n                        console.log(\"查询失败\");\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                })\r\n            },\r\n            getVoteList() {\r\n                let that = this;\r\n                let url = this.website + \"/vote/getVote\"\r\n                this.axios.get(url, {\r\n                    params: {\r\n                        creatorId: this.loginUser.id\r\n                    }\r\n                }).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        that.voteList = response.data.data;\r\n                    } else {\r\n                        console.log(\"查询失败\");\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                })\r\n            },\r\n            deleteVote(vote) {\r\n                let that = this;\r\n                let url = this.website + \"/vote/delVote\"\r\n                this.axios.post(url, vote).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        that.$dialog.alert({\r\n                            message: '删除成功'\r\n                        }).then(() => {\r\n                            // on close\r\n                        });\r\n                    } else {\r\n                        that.$dialog.alert({\r\n                            message: '删除失败'\r\n                        }).then(() => {\r\n                            // on close\r\n                        });\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                })\r\n            },\r\n            doDelete(id) {\r\n                let that = this;\r\n                this.$dialog.confirm({\r\n                    message: '确认删除'\r\n                }).then(() => {\r\n                    // on confirm\r\n                    for (let i in that.voteList) {\r\n                        if (that.voteList[i].id == id) {\r\n                            that.voteList[i].flag = true;\r\n                            that.deleteVote(that.voteList[i]);\r\n                        }\r\n                    }\r\n                }).catch(() => {\r\n                    // on cancel\r\n                });\r\n            },\r\n            getQRcode(id,type) {\r\n                let that = this;\r\n                let longUrl = this.website2 + type+'?voteId=' + id;\r\n                let url2 = 'api/getQRcode';\r\n                this.axios.get(url2, {\r\n                    params: {\r\n                        text: longUrl,\r\n                        key: 'd6e93df58937b9995c52d7998b8513b8'\r\n                    }\r\n                },).then(function (response) {\r\n                    if (response.data.error_code == 0) {\r\n                        that.QRcode = \"data:image/png;base64,\" + response.data.result.base64_image;\r\n                    } else {\r\n                        console.log(response.data);\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                })\r\n            },\r\n            getShortUrl(id,type) {\r\n                let that = this;\r\n                let shareUrl = this.website2 + type+'?voteId=' + id;\r\n                let url = \"api/getShortUrl\"\r\n                this.axios.get(url, {\r\n                    params: {\r\n                        format: 'json',\r\n                        url: shareUrl,\r\n                        key: '5e09e1efb1b63c2d90541992@01d1f947328e5aa20680c754c12eef90',\r\n                        expireDate: '2020-03-31'\r\n                    }\r\n                }).then(function (response) {\r\n                    if (response.data.err == \"\") {\r\n                        that.shortUrl = response.data.url;\r\n                    } else {\r\n                        console.log(response.data)\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                })\r\n            },\r\n            toShare(id,type) {\r\n                this.getQRcode(id,type);\r\n                this.getShortUrl(id,type);\r\n                this.showShare = true;\r\n            }\r\n        },\r\n        mounted() {\r\n            if (sessionStorage.getItem(\"loginUser\") != null || localStorage.getItem(\"loginUser\") != null) {\r\n                this.isLogin = true;\r\n                if (sessionStorage.getItem(\"loginUser\") != null) {\r\n                    this.loginUser = JSON.parse(sessionStorage.getItem(\"loginUser\"));\r\n                }\r\n                if (localStorage.getItem(\"loginUser\") != null) {\r\n                    this.loginUser = JSON.parse(localStorage.getItem(\"loginUser\"));\r\n                }\r\n            }\r\n            this.getVoteList();\r\n            this.getQuesList();\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .myVote {\r\n        margin-top: 30px;\r\n        margin-bottom: 90px;\r\n    }\r\n\r\n    hr {\r\n        margin-top: 0px;\r\n        margin: 0;\r\n        border: 0;\r\n        color: #e0e0e0;\r\n        background-color: #e0e0e0;\r\n        height: 1px\r\n    }\r\n\r\n    .detail-text {\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: block;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 3;\r\n        /*! autoprefixer: off */\r\n        -webkit-box-orient: vertical;\r\n        /* autoprefixer: on */\r\n    }\r\n</style>"]}]}