{"remainingRequest":"C:\\Users\\Ray\\WebstormProjects\\vote_app3\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ray\\WebstormProjects\\vote_app3\\src\\components\\sign.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app3\\src\\components\\sign.vue","mtime":1575628072687},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app3\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app3\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBteVNsaWRlciBmcm9tICcuLi9jb21wb25lbnRzL3NsaWRlci52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAic2lnbiIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHVzZXJOYW1lOicnLAogICAgICAgICAgICBwYXNzV29yZDonJywKICAgICAgICAgICAgc2lnblVwOiB0cnVlLAogICAgICAgICAgICBsb2dpblVzZXI6JycKICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgIG15U2xpZGVyCiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmNoYW5nZVJhbmRvbUNvZGUoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZG9Mb2dpbigpIHsKICAgICAgICAgICAgbGV0IGNvbmZpcm1TdWNjZXNzID0gdGhpcy4kcmVmcy5pc1N1Y2Nlc3MuY29uZmlybVN1Y2Nlc3M7CiAgICAgICAgICAgIGlmIChjb25maXJtU3VjY2Vzcyl7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0cnVlKTsKICAgICAgICAgICAgICAgIGxldCB1cmw9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC91c2VyL3VzZXJMb2dpbiI7CiAgICAgICAgICAgICAgICBsZXQgdGhhdD10aGlzOwogICAgICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQodXJsLHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlck5hbWU6IHRoaXMudXNlck5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NXb3JkOiB0aGlzLnBhc3NXb3JkCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLmNvZGU9PTIwMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubG9naW5Vc2VyPXJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIueZu+mZhuaIkOWKnyIpOwogICAgICAgICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIueZu+mZhuWksei0pSIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmYWxzZSk7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6K+35YWI6YCa6L+H6aqM6K+B77yBJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjaGFuZ2VSYW5kb21Db2RlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGNvbnN0IGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpOwogICAgICAgICAgICBsZXQgcGF5bG9hZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgIiI7IC8v5b2T5YmN5pe26Ze055qE5q+r56eS5pWwCiAgICAgICAgICAgIGxldCBzZWNyZXQgPSAncmF5JzsKICAgICAgICAgICAgdGhpcy50b2tlbiA9IGp3dC5zaWduKHBheWxvYWQsIHNlY3JldCk7Ly/pgqPkvaDnmoTlhazpkqUr56eB6ZKl77yM55Sf5oiQ5ZSv5LiAdG9rZW4KICAgICAgICAgICAgdGhpcy5yYW5kb21Db2RlVXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9tb29jZGVtby9jb21tb25zL21hdGhSYW5kb21Db2RlP3Rva2VuPScgKyB0aGlzLnRva2VuCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["sign.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sign.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div id=\"app\" class=\"base\" style=\"margin: auto\">\r\n        <div v-if=\"signUp\">\r\n            <div class=\"aim\">\r\n                <h2>Hello mate!</h2>\r\n                <h6>Enter your personal details and start journey with me</h6>\r\n                <button @click=\"signUp = !signUp\" class=\"btn \">Sign up</button>\r\n            </div>\r\n            <div class=\"formArea\">\r\n                <h2>Sign in to WEvote</h2>\r\n                <h6>Fill in the required fields</h6>\r\n\r\n                <div class=\"form-group\">\r\n                    <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\"\r\n                           placeholder=\"Your email\" v-model=\"userName\">\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Password\" v-model=\"passWord\">\r\n                </div>\r\n                <mySlider style=\"width: 450px;margin:20px auto\" ref=\"isSuccess\"></mySlider>\r\n                <button tabindex=\"0\" role=\"button\" class=\"btn\" id=\"signin\" @click=\"doLogin()\">Sign in</button>\r\n\r\n            </div>\r\n        </div>\r\n\r\n        <div v-else>\r\n            <div class=\"aim in\">\r\n                <h2>Welcome back!</h2>\r\n                <h6>To keep connected with me, please login with your personal infos</h6>\r\n                <button @click=\"signUp = !signUp\" class=\"btn\">Sign in</button>\r\n            </div>\r\n            <div class=\"formArea in\">\r\n                <h2>Create an account</h2>\r\n                <h6>Fill in the required fields</h6>\r\n                <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"exampleInputName1\" placeholder=\"Name\">\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail2\" aria-describedby=\"emailHelp\"\r\n                           placeholder=\"Your email\">\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword2\" placeholder=\"Password\">\r\n                </div>\r\n                <button class=\"btn\">Sign up</button>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\n    import mySlider from '../components/slider.vue'\r\n\r\n    export default {\r\n        name: \"sign\",\r\n        data() {\r\n            return {\r\n                userName:'',\r\n                passWord:'',\r\n                signUp: true,\r\n                loginUser:''\r\n            }\r\n        },\r\n        components: {\r\n            mySlider\r\n        },\r\n        mounted() {\r\n            this.changeRandomCode();\r\n        },\r\n        methods: {\r\n            doLogin() {\r\n                let confirmSuccess = this.$refs.isSuccess.confirmSuccess;\r\n                if (confirmSuccess){\r\n                    console.log(true);\r\n                    let url=\"http://localhost:8080/user/userLogin\";\r\n                    let that=this;\r\n                    this.axios.get(url,{\r\n                        params: {\r\n                            userName: this.userName,\r\n                            passWord: this.passWord\r\n                        }\r\n                    }).then(function (response) {\r\n                        if(response.data.code==200){\r\n                            that.loginUser=response.data.data;\r\n                            console.log(\"登陆成功\");\r\n                        }else {\r\n                            console.log(\"登陆失败\");\r\n                        }\r\n                    }).catch(function (err) {\r\n                        // eslint-disable-next-line no-console\r\n                        console.log(err);\r\n                    })\r\n                }else {\r\n                    console.log(false);\r\n                    this.$message({\r\n                        message: '请先通过验证！',\r\n                        type: 'warning'\r\n                    });\r\n                }\r\n            },\r\n            changeRandomCode: function () {\r\n                const jwt = require('jsonwebtoken');\r\n                let payload = new Date().getTime() + \"\"; //当前时间的毫秒数\r\n                let secret = 'ray';\r\n                this.token = jwt.sign(payload, secret);//那你的公钥+私钥，生成唯一token\r\n                this.randomCodeUrl = 'http://localhost:8080/moocdemo/commons/mathRandomCode?token=' + this.token\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    @import \"../assets/css/style.css\";\r\n\r\n</style>"]}]}