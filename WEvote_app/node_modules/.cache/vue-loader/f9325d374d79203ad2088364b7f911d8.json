{"remainingRequest":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\quesStart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\quesStart.vue","mtime":1577812697751},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJxdWVzU3RhcnQiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByYWRpbzonJywKICAgICAgICAgICAgYWN0aXZlOjAsCiAgICAgICAgICAgIHN0YXJ0OiBmYWxzZSwKICAgICAgICAgICAgcXVlc0lkOiAnJywKICAgICAgICAgICAgcXVlc3Rpb25uYWlyZToge30sCiAgICAgICAgICAgIGNvdmVySW1nVXJsOiAnaHR0cDovLzExMi4xMjQuMjYuMTI1L3Rlc3QvaW1hZ2UvY292ZXIucG5nJywKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldFF1ZXNCeUlkKHF1ZXNJZCkgewogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLndlYnNpdGUgKyAiL3F1ZXN0aW9ubmFpcmUvZ2V0UXVlc0J5SWQiCiAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KHVybCwgewogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IHF1ZXNJZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGF0LnF1ZXN0aW9ubmFpcmUgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgdGhhdC5jb3ZlckltZ1VybD10aGF0LmltZ1VybCt0aGF0LnF1ZXN0aW9ubmFpcmUuY292ZXJJbWc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coIuaKleelqOS/oeaBr+afpeivouWksei0pSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoICkgewogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coICk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBzdGFydFF1ZXMoKXsKICAgICAgICAgICAgdGhpcy5zdGFydD10cnVlOwogICAgICAgIH0sCiAgICAgICAgbmV4dFRvcGljKCl7CiAgICAgICAgICAgIHRoaXMuYWN0aXZlKz0xOwogICAgICAgIH0sCiAgICAgICAgc3VibWl0KCl7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nOwogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMucXVlc0lkID0gdGhpcy4kcm91dGUucXVlcnkudm90ZUlkOwogICAgICAgIHRoaXMuZ2V0UXVlc0J5SWQodGhpcy5xdWVzSWQpOwogICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJsb2dpblVzZXIiKSAhPSBudWxsIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsb2dpblVzZXIiKSAhPSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMuaXNMb2dpbiA9IHRydWU7CiAgICAgICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJsb2dpblVzZXIiKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luVXNlciA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgibG9naW5Vc2VyIikpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9naW5Vc2VyIikgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgdGhpcy5sb2dpblVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsb2dpblVzZXIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["quesStart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"quesStart.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"quesStart\">\r\n        <div v-if=\"!start\">\r\n            <van-row type=\"flex\" justify=\"center\" style=\"margin-top: 120px\">\r\n                <van-image\r\n                        width=\"300\"\r\n                        height=\"170\"\r\n                        :src=coverImgUrl\r\n                />\r\n            </van-row>\r\n            <van-row type=\"flex\" justify=\"center\" style=\"margin: 16px 0px\">\r\n                <span>{{questionnaire.title}}</span>\r\n            </van-row>\r\n            <van-row type=\"flex\" justify=\"center\" style=\"margin-bottom: 16px\">\r\n                <van-col span=\"16\">\r\n                    <span id=\"descspan\" class=\"detail-text\">{{questionnaire.description}}</span>\r\n                </van-col>\r\n            </van-row>\r\n            <van-row type=\"flex\" justify=\"center\" style=\"margin-top: 24px\">\r\n                <van-button color=\"linear-gradient(to right, #4bb0ff, #6149f6)\" @click=\"startQues\">开始答题</van-button>\r\n            </van-row>\r\n        </div>\r\n        <div v-else>\r\n            <van-tabs v-model=\"active\">\r\n                <van-tab  v-for=\"(item,i) in questionnaire.topicList\" :title=\"'第' + i+'题'\" :key=\"i\">\r\n                    <van-row style=\"margin-top: 24px\">\r\n                        <van-col>\r\n                            <span id=\"topicId\">{{i+1}}</span>\r\n                        </van-col>\r\n                        <van-col>\r\n                            <span style=\"line-height: 50px\">{{questionnaire.topicList[i].title}}</span>\r\n                        </van-col>\r\n                    </van-row>\r\n                    <van-radio-group v-model=\"radio\">\r\n                    <van-row v-for=\"(option,j) in questionnaire.topicList[i].optionList\" :key=\"j\" style=\"margin: 16px\">\r\n                        <van-radio :name=\"j\">{{questionnaire.topicList[i].optionList[j].content}}</van-radio>\r\n                    </van-row>\r\n                    </van-radio-group>\r\n                </van-tab>\r\n            </van-tabs>\r\n            <van-row type=\"flex\" justify=\"center\" style=\"margin-top: 48px\">\r\n                <van-button color=\"linear-gradient(to right, #4bb0ff, #6149f6)\" @click=\"submit\" v-if=\"active==questionnaire.topicList.length-1\">提交</van-button>\r\n                <van-button color=\"linear-gradient(to right, #4bb0ff, #6149f6)\" @click=\"nextTopic\" v-else>下一题</van-button>\r\n            </van-row>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"quesStart\",\r\n        data() {\r\n            return {\r\n                radio:'',\r\n                active:0,\r\n                start: false,\r\n                quesId: '',\r\n                questionnaire: {},\r\n                coverImgUrl: 'http://112.124.26.125/test/image/cover.png',\r\n            }\r\n        },\r\n        methods: {\r\n            getQuesById(quesId) {\r\n                let that = this;\r\n                let url = this.website + \"/questionnaire/getQuesById\"\r\n                this.axios.get(url, {\r\n                    params: {\r\n                        id: quesId\r\n                    }\r\n                }).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        that.questionnaire = response.data.data;\r\n                        that.coverImgUrl=that.imgUrl+that.questionnaire.coverImg;\r\n                    } else {\r\n                        //console.log(\"投票信息查询失败\");\r\n                    }\r\n                }).catch(function ( ) {\r\n                    // eslint-disable-next-line no-console\r\n                    //console.log( );\r\n                })\r\n            },\r\n            startQues(){\r\n                this.start=true;\r\n            },\r\n            nextTopic(){\r\n                this.active+=1;\r\n            },\r\n            submit(){\r\n                window.location.href = '/';\r\n            }\r\n        },\r\n        mounted() {\r\n            this.quesId = this.$route.query.voteId;\r\n            this.getQuesById(this.quesId);\r\n            if (sessionStorage.getItem(\"loginUser\") != null || localStorage.getItem(\"loginUser\") != null) {\r\n                this.isLogin = true;\r\n                if (sessionStorage.getItem(\"loginUser\") != null) {\r\n                    this.loginUser = JSON.parse(sessionStorage.getItem(\"loginUser\"));\r\n                }\r\n                if (localStorage.getItem(\"loginUser\") != null) {\r\n                    this.loginUser = JSON.parse(localStorage.getItem(\"loginUser\"));\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .quesStart {\r\n        margin-top: 60px;\r\n    }\r\n\r\n    #descspan {\r\n        color: #818181;\r\n        font-size: x-small;\r\n    }\r\n    .detail-text {\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: block;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 5;\r\n        /*! autoprefixer: off */\r\n        -webkit-box-orient: vertical;\r\n        /* autoprefixer: on */\r\n    }\r\n    #topicId{\r\n        margin-left: 16px;\r\n        margin-right: 8px;\r\n        color: #2a89ff;\r\n        font-size: xx-large;\r\n    }\r\n</style>"]}]}