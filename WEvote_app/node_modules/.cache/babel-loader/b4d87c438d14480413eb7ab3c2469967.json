{"remainingRequest":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\newImageVote.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\newImageVote.vue","mtime":1577871510526},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIm5ld0ltYWdlVm90ZSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1heHNpemU6IDEwMDAwMDAsCiAgICAgIGlzTG9naW46IGZhbHNlLAogICAgICBsb2dpblVzZXI6IHt9LAogICAgICB0aW1lU2hvdzE6IGZhbHNlLAogICAgICB0aW1lU2hvdzI6IGZhbHNlLAogICAgICB2b3RlVGlsdGU6ICcnLAogICAgICBvcHRpb25MaXN0OiBbewogICAgICAgIGltZzogW10sCiAgICAgICAgY29udGVudDogJycKICAgICAgfSwgewogICAgICAgIGltZzogW10sCiAgICAgICAgY29udGVudDogJycKICAgICAgfV0sCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgLy/nroDku4vlm77niYcKICAgICAgZGVzY3JpcHRpb25JbWdMaXN0OiBbXSwKICAgICAgLy/liIbkuqvlm77niYcKICAgICAgc2hhcmVJbWc6IFtdLAogICAgICBtYXhWb3RlOiAnJywKICAgICAgdGltZVNldDogewogICAgICAgIG1pbkRhdGU6IG5ldyBEYXRlKCksCiAgICAgICAgbWF4RGF0ZTogbmV3IERhdGUoMjEwMCwgMTEsIDMxKSwKICAgICAgICBjdXJyZW50RGF0ZTogbmV3IERhdGUoKQogICAgICB9LAogICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCkuZm9ybWF0KCJ5eXl5LU1NLWRkIGhoOm1tIiksCiAgICAgIGRlYWRsaW5lOiAnJywKICAgICAgbmV3Vm90ZToge30KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBhZnRlclJlYWQoZmlsZSkgewogICAgLy8gICAgIGNvbnNvbGUubG9nKGZpbGUpCiAgICAvLyB9LAogICAgLy8gdGVzdCgpewogICAgLy8gICAgIHRoaXMuJG5vdGlmeSh7CiAgICAvLyAgICAgICAgIG1lc3NhZ2U6ICflm77niYfkuIrkvKDlpLHotKUnLAogICAgLy8gICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgLy8gICAgIH0pOwogICAgLy8gfSwKICAgIG92ZXJzaXplOiBmdW5jdGlvbiBvdmVyc2l6ZShmaWxlKSB7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUpOwogICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgIG1lc3NhZ2U6ICflm77niYflpKflsI/kuI3og73otoXov4cxTScKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7Ly8gb24gY2xvc2UKICAgICAgfSk7CiAgICB9LAogICAgY3JlYXRlVm90ZTogZnVuY3Rpb24gY3JlYXRlVm90ZSgpIHsKICAgICAgdmFyIGksIGlzRXhpc3QsIGlzVXBsb2FkLCBpc0NyZWF0ZVZvdGUsIGlzU2F2ZU9wdGlvbiwgdm90ZSwgX2ksIGltZ05hbWU7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIGNyZWF0ZVZvdGUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKHRoaXMudm90ZVRpbHRlID09ICcnKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5hbGVydCh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZ5qCH6aKYJwogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgey8vIG9uIGNsb3NlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDYwOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGlmICghKHRoaXMub3B0aW9uTGlzdC5sZW5ndGggPT0gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+iHs+Wwkea3u+WKoOS4gOS4qumAiemhuScKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsvLyBvbiBjbG9zZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2MDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IHJlZ2VuZXJhdG9yUnVudGltZS5rZXlzKHRoaXMub3B0aW9uTGlzdCk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgaWYgKChfY29udGV4dC50MSA9IF9jb250ZXh0LnQwKCkpLmRvbmUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaSA9IF9jb250ZXh0LnQxLnZhbHVlOwoKICAgICAgICAgICAgICBpZiAoISh0aGlzLm9wdGlvbkxpc3RbaV0uaW1nWzBdID09IG51bGwpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5hbGVydCh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6K+35LiK5Lyg6YCJ6aG55Zu+54mHJwogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgey8vIG9uIGNsb3NlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGlmICghKHRoaXMub3B0aW9uTGlzdFtpXS5jb250ZW50ID09ICcnKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmeagh+mimOmAiemhueWGheWuuScKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsvLyBvbiBjbG9zZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy5jaGVja1RpdGxlKHRoaXMudm90ZVRpbHRlKSk7CgogICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGlzRXhpc3QgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShpc0V4aXN0ID09IGZhbHNlKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5qCH6aKY5bey5a2Y5ZyoIik7CiAgICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfor6XmoIfpopjlt7LlrZjlnKgnCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7Ly8gb24gY2xvc2UKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgdGhpcy4kdG9hc3QubG9hZGluZyh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yib5bu65LitLi4uJywKICAgICAgICAgICAgICAgIGZvcmJpZENsaWNrOiB0cnVlLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpc1VwbG9hZCA9IHRydWU7CiAgICAgICAgICAgICAgaXNDcmVhdGVWb3RlID0gZmFsc2U7CiAgICAgICAgICAgICAgaXNTYXZlT3B0aW9uID0gZmFsc2U7IC8v5bCG5pyA5aSn5oqV56Wo5pWw6buY6K6k572u5Li6MQoKICAgICAgICAgICAgICBpZiAodGhpcy5tYXhWb3RlID09IG51bGwpIHsKICAgICAgICAgICAgICAgIHRoaXMubWF4Vm90ZSA9IDE7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB2b3RlID0gewogICAgICAgICAgICAgICAgY3JlYXRvcjogdGhpcy5sb2dpblVzZXIsCiAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy52b3RlVGlsdGUsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uSW1nOiAiIiwKICAgICAgICAgICAgICAgIHNoYXJlSW1nOiAiIiwKICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogdGhpcy5zdGFydFRpbWUsCiAgICAgICAgICAgICAgICBkZWFkbGluZTogdGhpcy5kZWFkbGluZSwKICAgICAgICAgICAgICAgIG9uY2VNYXhWb3RlOiB0aGlzLm1heFZvdGUKICAgICAgICAgICAgICB9OyAvL+S4iuS8oOWbvueJhwoKICAgICAgICAgICAgICBpZiAoISh0aGlzLmRlc2NyaXB0aW9uSW1nTGlzdFswXSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzc7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLnVwbG9hZEltZyh0aGlzLmRlc2NyaXB0aW9uSW1nTGlzdFswXSkpOwoKICAgICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgICB2b3RlLmRlc2NyaXB0aW9uSW1nID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHZvdGUuZGVzY3JpcHRpb25JbWcgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgaXNVcGxvYWQgPSBmYWxzZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDM5OgogICAgICAgICAgICAgIGlmICghKHRoaXMuc2hhcmVJbWdbMF0gIT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0NDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQyOwogICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAodGhpcy51cGxvYWRJbWcodGhpcy5zaGFyZUltZ1swXSkpOwoKICAgICAgICAgICAgY2FzZSA0MjoKICAgICAgICAgICAgICB2b3RlLnNoYXJlSW1nID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHZvdGUuc2hhcmVJbWcgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgaXNVcGxvYWQgPSBmYWxzZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDQ0OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0NjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuc2F2ZVZvdGUodm90ZSkpOwoKICAgICAgICAgICAgY2FzZSA0NjoKICAgICAgICAgICAgICBpc0NyZWF0ZVZvdGUgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0LnQyID0gcmVnZW5lcmF0b3JSdW50aW1lLmtleXModGhpcy5vcHRpb25MaXN0KTsKCiAgICAgICAgICAgIGNhc2UgNDg6CiAgICAgICAgICAgICAgaWYgKChfY29udGV4dC50MyA9IF9jb250ZXh0LnQyKCkpLmRvbmUpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2kgPSBfY29udGV4dC50My52YWx1ZTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTI7CiAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh0aGlzLnVwbG9hZEltZyh0aGlzLm9wdGlvbkxpc3RbX2ldLmltZ1swXSkpOwoKICAgICAgICAgICAgY2FzZSA1MjoKICAgICAgICAgICAgICBpbWdOYW1lID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKGltZ05hbWUgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgaXNVcGxvYWQgPSBmYWxzZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1NjsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuc2F2ZU9wdGlvbihpbWdOYW1lLCBfaSkpOwoKICAgICAgICAgICAgY2FzZSA1NjoKICAgICAgICAgICAgICBpc1NhdmVPcHRpb24gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0ODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgNTk6CiAgICAgICAgICAgICAgaWYgKGlzVXBsb2FkID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5jbGVhcigpOwogICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WbvueJh+S4iuS8oOWksei0pScsCiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQ3JlYXRlVm90ZSA9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QuY2xlYXIoKTsKICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmipXnpajliJvlu7rlpLHotKUnLAogICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1NhdmVPcHRpb24gPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LmNsZWFyKCk7CiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6YCJ6aG55L+d5a2Y5aSx6LSlJywKICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5jbGVhcigpOwogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL215Vm90ZSc7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA2MDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9LAogICAgY2hlY2tUaXRsZTogZnVuY3Rpb24gY2hlY2tUaXRsZSh0aWx0ZSkgewogICAgICB2YXIgaXNFeGlzdCwgY2hlY2tVcmw7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gY2hlY2tUaXRsZSQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaXNFeGlzdCA9IGZhbHNlOwogICAgICAgICAgICAgIGNoZWNrVXJsID0gdGhpcy53ZWJzaXRlICsgIi92b3RlL2NoZWNrVGl0bGUiOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuYXhpb3MuZ2V0KGNoZWNrVXJsLCB7CiAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgdm90ZVRpdGxlOiB0aWx0ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICBpc0V4aXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuajgOafpei/h+eoi+WHuumUmSIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgaXNFeGlzdCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0sCiAgICBzYXZlVm90ZTogZnVuY3Rpb24gc2F2ZVZvdGUodm90ZSkgewogICAgICB2YXIgaXNDcmVhdGVWb3RlLCB0aGF0LCBjcmVhdGVWb3RlVXJsOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIHNhdmVWb3RlJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpc0NyZWF0ZVZvdGUgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGF0ID0gdGhpczsKICAgICAgICAgICAgICBjcmVhdGVWb3RlVXJsID0gdGhpcy53ZWJzaXRlICsgIi92b3RlL2NyZWF0ZVZvdGUiOwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuYXhpb3MucG9zdChjcmVhdGVWb3RlVXJsLCB2b3RlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgdGhhdC5uZXdWb3RlID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5Yib5bu65oqV56Wo5oiQ5YqfIik7CiAgICAgICAgICAgICAgICAgIGlzQ3JlYXRlVm90ZSA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5Yib5bu65aSx6LSlIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBpc0NyZWF0ZVZvdGUpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9LAogICAgc2F2ZU9wdGlvbjogZnVuY3Rpb24gc2F2ZU9wdGlvbihpbWdOYW1lLCBpKSB7CiAgICAgIHZhciBpc1NhdmVPcHRpb24sIHNhdmVPcHRpb25Vcmw7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gc2F2ZU9wdGlvbiQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaXNTYXZlT3B0aW9uID0gZmFsc2U7CiAgICAgICAgICAgICAgc2F2ZU9wdGlvblVybCA9IHRoaXMud2Vic2l0ZSArICIvb3B0aW9uL3NhdmVPcHRpb24iOwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuYXhpb3MucG9zdChzYXZlT3B0aW9uVXJsLCB7CiAgICAgICAgICAgICAgICBpbWc6IGltZ05hbWUsCiAgICAgICAgICAgICAgICBjb250ZW50OiB0aGlzLm9wdGlvbkxpc3RbaV0uY29udGVudCwKICAgICAgICAgICAgICAgIHZvdGU6IHRoaXMubmV3Vm90ZSwKICAgICAgICAgICAgICAgIHZvdGVzOiAwCiAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGkgKyAi6YCJ6aG55re75Yqg5oiQ5YqfIik7CiAgICAgICAgICAgICAgICAgIGlzU2F2ZU9wdGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpICsgIumAiemhuea3u+WKoOWksei0pSIpOwogICAgICAgICAgICAgICAgICBpc1NhdmVPcHRpb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIGlzU2F2ZU9wdGlvbik7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBudWxsLCB0aGlzKTsKICAgIH0sCiAgICBkZWxUYWJsZTogZnVuY3Rpb24gZGVsVGFibGUoaWR4KSB7CiAgICAgIHRoaXMub3B0aW9uTGlzdCA9IHRoaXMub3B0aW9uTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGkpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhbaXRlbSwgaSwgaWR4XSkKICAgICAgICBpZiAoaSAhPSBpZHgpIHsKICAgICAgICAgIHJldHVybiAiZSI7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhZGRUYWJsZTogZnVuY3Rpb24gYWRkVGFibGUoKSB7CiAgICAgIHRoaXMub3B0aW9uTGlzdC5wdXNoKHsKICAgICAgICBpbWc6IFtdLAogICAgICAgIGNvbnRlbnQ6ICcnCiAgICAgIH0pOwogICAgfSwKICAgIG9uU2hvdzE6IGZ1bmN0aW9uIG9uU2hvdzEoKSB7CiAgICAgIHRoaXMudGltZVNob3cxID0gdHJ1ZTsKICAgIH0sCiAgICBvblNob3cyOiBmdW5jdGlvbiBvblNob3cyKCkgewogICAgICB0aGlzLnRpbWVTaG93MiA9IHRydWU7CiAgICB9LAogICAgY29uZmlybVRpbWUxOiBmdW5jdGlvbiBjb25maXJtVGltZTEodmFsdWUpIHsKICAgICAgdGhpcy5zdGFydFRpbWUgPSB2YWx1ZS5mb3JtYXQoInl5eXktTU0tZGQgaGg6bW0iKTsKICAgICAgdGhpcy50aW1lU2hvdzEgPSBmYWxzZTsKICAgIH0sCiAgICBjb25maXJtVGltZTI6IGZ1bmN0aW9uIGNvbmZpcm1UaW1lMih2YWx1ZSkgewogICAgICB0aGlzLmRlYWRsaW5lID0gdmFsdWUuZm9ybWF0KCJ5eXl5LU1NLWRkIGhoOm1tIik7CiAgICAgIHRoaXMudGltZVNob3cyID0gZmFsc2U7CiAgICB9LAogICAgY2FuY2VsVGltZTogZnVuY3Rpb24gY2FuY2VsVGltZSgpIHsKICAgICAgdGhpcy50aW1lU2hvdzEgPSBmYWxzZTsKICAgICAgdGhpcy50aW1lU2hvdzIgPSBmYWxzZTsKICAgIH0sCiAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIGZvcm1hdHRlcih0eXBlLCB2YWx1ZSkgewogICAgICBpZiAodHlwZSA9PT0gJ3llYXInKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh2YWx1ZSwgIlx1NUU3NCIpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtb250aCcpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHZhbHVlLCAiXHU2NzA4Iik7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2RheScpIHsKICAgICAgICByZXR1cm4gIiIuY29uY2F0KHZhbHVlLCAiXHU2NUU1Iik7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2hvdXInKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh2YWx1ZSwgIlx1NjVGNiIpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtaW51dGUnKSB7CiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh2YWx1ZSwgIlx1NTIwNiIpOwogICAgICB9CgogICAgICByZXR1cm4gdmFsdWU7CiAgICB9LAogICAgdXBsb2FkSW1nOiBmdW5jdGlvbiB1cGxvYWRJbWcoaW1nRmlsZSkgewogICAgICB2YXIgaW1nTmFtZSwgY29uZmlnLCB1cGxvYWRVcmwsIHBhcmFtczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiB1cGxvYWRJbWckKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIC8vIGxldCB0aGF0PXRoaXM7CiAgICAgICAgICAgICAgaW1nTmFtZSA9IGltZ0ZpbGUuZmlsZS5uYW1lOwogICAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgLy/mt7vliqDor7fmsYLlpLQKICAgICAgICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdXBsb2FkVXJsID0gdGhpcy53ZWJzaXRlICsgIi9jb21tb25zL3VwbG9hZCI7CiAgICAgICAgICAgICAgcGFyYW1zID0gbmV3IEZvcm1EYXRhKCk7IC8v5Yib5bu6Zm9ybeWvueixoQoKICAgICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCJmaWxlIiwgaW1nRmlsZS5maWxlKTsgLy/pgJrov4dhcHBlbmTlkJFmb3Jt5a+56LGh5re75Yqg5pWw5o2uLy/nrKzkuIDkuKrlj4LmlbDlrZfnrKbkuLLlj6/ku6Xloavku7vmhI/lkb3lkI3vvIznrKzkuozkuKrmoLnmja7lr7nosaHlsZ7mgKfmnaXmib7liLBmaWxlCgogICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHRoaXMuYXhpb3MucG9zdCh1cGxvYWRVcmwsIHBhcmFtcywgY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgLy8gaWYoaW1nRmlsZT09dGhhdC5kZXNjcmlwdGlvbkltZ0xpc3RbMF0pewogICAgICAgICAgICAgICAgICAvLyAgICAgdGhhdC5kZXNjcmlwdGlvbkltZ05hbWU9cmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAvLyAgICAgLy8gY29uc29sZS5sb2codGhhdC5kZXNjcmlwdGlvbkltZ05hbWUpCiAgICAgICAgICAgICAgICAgIC8vIH1lbHNlIGlmKGltZ0ZpbGU9PXRoYXQuc2hhcmVJbWdbMF0pewogICAgICAgICAgICAgICAgICAvLyAgICAgdGhhdC5zaGFyZUltZ05hbWU9cmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgICAvLyAgICAgLy8gY29uc29sZS5sb2codGhhdC5zaGFyZUltZ05hbWUpCiAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW1nTmFtZSArICLlm77niYfkuIrkvKDmiJDlip8iKTsKICAgICAgICAgICAgICAgICAgaW1nTmFtZSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLkuIrkvKDlpLHotKUiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIGltZ05hbWUpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgbnVsbCwgdGhpcyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgNyk7CiAgICB0aGlzLmRlYWRsaW5lID0gZGF0ZS5mb3JtYXQoInl5eXktTU0tZGQgaGg6bW0iKTsKCiAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgibG9naW5Vc2VyIikgIT0gbnVsbCB8fCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9naW5Vc2VyIikgIT0gbnVsbCkgewogICAgICB0aGlzLmlzTG9naW4gPSB0cnVlOwoKICAgICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImxvZ2luVXNlciIpICE9IG51bGwpIHsKICAgICAgICB0aGlzLmxvZ2luVXNlciA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgibG9naW5Vc2VyIikpOwogICAgICB9CgogICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvZ2luVXNlciIpICE9IG51bGwpIHsKICAgICAgICB0aGlzLmxvZ2luVXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvZ2luVXNlciIpKTsKICAgICAgfQogICAgfQogIH0KfTsKCkRhdGUucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChmbXQpIHsKICB2YXIgbyA9IHsKICAgICJNKyI6IHRoaXMuZ2V0TW9udGgoKSArIDEsCiAgICAvL+aciOS7vQogICAgImQrIjogdGhpcy5nZXREYXRlKCksCiAgICAvL+aXpQogICAgImgrIjogdGhpcy5nZXRIb3VycygpLAogICAgLy/lsI/ml7YKICAgICJtKyI6IHRoaXMuZ2V0TWludXRlcygpLAogICAgLy/liIYKICAgICJzKyI6IHRoaXMuZ2V0U2Vjb25kcygpLAogICAgLy/np5IKICAgICJxKyI6IE1hdGguZmxvb3IoKHRoaXMuZ2V0TW9udGgoKSArIDMpIC8gMyksCiAgICAvL+Wto+W6pgogICAgIlMiOiB0aGlzLmdldE1pbGxpc2Vjb25kcygpIC8v5q+r56eSCgogIH07CgogIGlmICgvKHkrKS8udGVzdChmbXQpKSB7CiAgICBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsICh0aGlzLmdldEZ1bGxZZWFyKCkgKyAiIikuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSk7CiAgfQoKICBmb3IgKHZhciBrIGluIG8pIHsKICAgIGlmIChuZXcgUmVnRXhwKCIoIiArIGsgKyAiKSIpLnRlc3QoZm10KSkgewogICAgICBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIFJlZ0V4cC4kMS5sZW5ndGggPT0gMSA/IG9ba10gOiAoIjAwIiArIG9ba10pLnN1YnN0cigoIiIgKyBvW2tdKS5sZW5ndGgpKTsKICAgIH0KICB9CgogIHJldHVybiBmbXQ7Cn07"},{"version":3,"sources":["newImageVote.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div style=\"margin-bottom: 100px\">\r\n        <van-cell-group>\r\n            <van-field v-model=\"voteTilte\" placeholder=\"投票标题\"/>\r\n            <van-field\r\n                    v-model=\"description\"\r\n                    rows=\"4\"\r\n                    type=\"textarea\"\r\n                    placeholder=\"请输入描述（图片可选）\"\r\n                    show-word-limit\r\n            />\r\n        </van-cell-group>\r\n        <van-uploader v-model=\"descriptionImgList\" :max-count=\"1\" :max-size=maxsize :oversize=\"oversize\"\r\n                      style=\"margin: 8px 8px\"/>\r\n        <hr style=\"height: 7px\">\r\n        <van-cell-group v-for=\"(item,i) in optionList\" :key=\"i\">\r\n            <van-row>\r\n                <van-col span=\"2\">\r\n                    <img src=\"../assets/images/del.png\" style=\"margin:12px 5px;\" height=\"24px\" width=\"24px\"\r\n                         @click=\"delTable(i)\">\r\n                </van-col>\r\n                <van-col span=\"3\">\r\n                    <van-uploader v-model=\"item.img\" preview-size=\"42px\" :max-count=\"1\"\r\n                                  style=\"margin-top: 5px\"/>\r\n                </van-col>\r\n                <van-col span=\"19\">\r\n                    <van-field v-model=\"item.content\" placeholder=\"选项内容\" style=\"margin-top: 5px\"/>\r\n                </van-col>\r\n            </van-row>\r\n        </van-cell-group>\r\n        <van-row>\r\n            <van-col span=\"2\">\r\n                <img src=\"../assets/images/add.png\" style=\"margin:12px 5px;\" height=\"24px\" width=\"24px\"\r\n                     @click=\"addTable()\">\r\n            </van-col>\r\n            <van-col span=\"22\">\r\n                <span style=\"color: #2a89ff;display: block;margin-top: 10px\" @click=\"addTable()\">添加选项</span>\r\n            </van-col>\r\n        </van-row>\r\n        <hr style=\"height: 7px\">\r\n        <van-cell-group>\r\n            <van-field v-model=\"maxVote\" placeholder=\"每人最多可投(默认为1)\" type=\"number\"/>\r\n            <van-row>\r\n                <van-col span=\"21\">\r\n                    <span style=\"display: block;margin: 14px 16px\">自定义分享图（选填）</span>\r\n                </van-col>\r\n                <van-col span=\"3\">\r\n                    <van-uploader v-model=\"shareImg\" preview-size=\"42px\" :max-count=\"1\"\r\n                                  style=\"margin-top: 5px\"/>\r\n                </van-col>\r\n            </van-row>\r\n        </van-cell-group>\r\n        <van-cell-group>\r\n            <van-row>\r\n                <van-col span=\"16\">\r\n                    <span style=\"display: block;margin: 14px 16px\">开始时间</span>\r\n                </van-col>\r\n                <van-col span=\"8\">\r\n                    <span @click=\"onShow1\" style=\"display: block;margin-top: 14px\">{{startTime}}</span>\r\n                </van-col>\r\n            </van-row>\r\n        </van-cell-group>\r\n        <van-cell-group>\r\n            <van-row>\r\n                <van-col span=\"16\">\r\n                    <span style=\"display: block;margin: 14px 16px\">截止时间</span>\r\n                </van-col>\r\n                <van-col span=\"8\">\r\n                    <span @click=\"onShow2\" style=\"display: block;margin-top: 14px\">{{deadline}}</span>\r\n                </van-col>\r\n            </van-row>\r\n        </van-cell-group>\r\n        <van-action-sheet v-model=\"timeShow1\">\r\n            <van-datetime-picker\r\n                    v-model=\"timeSet.currentDate\"\r\n                    type=\"datetime\"\r\n                    :min-date=\"timeSet.minDate\"\r\n                    :max-date=\"timeSet.maxDate\"\r\n                    :formatter=\"formatter\"\r\n                    @confirm=\"confirmTime1\"\r\n                    @cancel=\"cancelTime\"\r\n            />\r\n        </van-action-sheet>\r\n        <van-action-sheet v-model=\"timeShow2\">\r\n            <van-datetime-picker\r\n                    v-model=\"timeSet.currentDate\"\r\n                    type=\"datetime\"\r\n                    :min-date=\"timeSet.minDate\"\r\n                    :max-date=\"timeSet.maxDate\"\r\n                    :formatter=\"formatter\"\r\n                    @confirm=\"confirmTime2\"\r\n                    @cancel=\"cancelTime\"\r\n            />\r\n        </van-action-sheet>\r\n        <div class=\"d-flex justify-content-center\">\r\n            <button type=\"button\" class=\"btn btn-primary\" style=\"margin-top: 20px\" @click=\"createVote\">立即发起投票</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"newImageVote\",\r\n        data() {\r\n            return {\r\n                maxsize:1000000,\r\n                isLogin: false,\r\n                loginUser: {},\r\n                timeShow1: false,\r\n                timeShow2: false,\r\n                voteTilte: '',\r\n                optionList: [{\r\n                    img: [],\r\n                    content: ''\r\n                }, {\r\n                    img: [],\r\n                    content: ''\r\n                }\r\n                ],\r\n                description: '',\r\n                //简介图片\r\n                descriptionImgList: [],\r\n                //分享图片\r\n                shareImg: [],\r\n                maxVote: '',\r\n                timeSet: {\r\n                    minDate: new Date(),\r\n                    maxDate: new Date(2100, 11, 31),\r\n                    currentDate: new Date()\r\n                },\r\n                startTime: new Date().format(\"yyyy-MM-dd hh:mm\"),\r\n                deadline: '',\r\n                newVote: {},\r\n            }\r\n        },\r\n        methods: {\r\n\r\n            // afterRead(file) {\r\n            //     console.log(file)\r\n            // },\r\n            // test(){\r\n            //     this.$notify({\r\n            //         message: '图片上传失败',\r\n            //         duration: 1000\r\n            //     });\r\n            // },\r\n            oversize(file){\r\n                console.log(file)\r\n                this.$dialog.alert({\r\n                    message: '图片大小不能超过1M'\r\n                }).then(() => {\r\n                    // on close\r\n                });\r\n            },\r\n            createVote: async function () {\r\n                if (this.voteTilte == '') {\r\n                    this.$dialog.alert({\r\n                        message: '请填写标题'\r\n                    }).then(() => {\r\n                        // on close\r\n                    });\r\n                } else if (this.optionList.length == 0) {\r\n                    this.$dialog.alert({\r\n                        message: '请至少添加一个选项'\r\n                    }).then(() => {\r\n                        // on close\r\n                    });\r\n                } else {\r\n                    for (let i in this.optionList) {\r\n                        if (this.optionList[i].img[0] == null) {\r\n                            this.$dialog.alert({\r\n                                message: '请上传选项图片'\r\n                            }).then(() => {\r\n                                // on close\r\n                            });\r\n                            return;\r\n                        } else if (this.optionList[i].content == '') {\r\n                            this.$dialog.alert({\r\n                                message: '请填写标题选项内容'\r\n                            }).then(() => {\r\n                                // on close\r\n                            });\r\n                            return;\r\n                        }\r\n                    }\r\n                    //检查标题唯一性\r\n                    let isExist=await this.checkTitle(this.voteTilte);\r\n                    if (isExist == false) {\r\n                        console.log(\"标题已存在\");\r\n                        this.$dialog.alert({\r\n                            message: '该标题已存在'\r\n                        }).then(() => {\r\n                            // on close\r\n                        });\r\n                        return;\r\n                    }\r\n                    this.$toast.loading({\r\n                        message: '创建中...',\r\n                        forbidClick: true,\r\n                        duration: 0,\r\n                    });\r\n                    let isUpload = true;\r\n                    let isCreateVote = false;\r\n                    let isSaveOption = false;\r\n                    //将最大投票数默认置为1\r\n                    if (this.maxVote == null) {\r\n                        this.maxVote = 1;\r\n                    }\r\n                    let vote = {\r\n                        creator: this.loginUser,\r\n                        title: this.voteTilte,\r\n                        description: this.description,\r\n                        descriptionImg: \"\",\r\n                        shareImg: \"\",\r\n                        startTime: this.startTime,\r\n                        deadline: this.deadline,\r\n                        onceMaxVote: this.maxVote,\r\n                    };\r\n                    //上传图片\r\n                    if (this.descriptionImgList[0] != null) {\r\n                        //同步执行 需等待文件上传完毕\r\n                        vote.descriptionImg = await this.uploadImg(this.descriptionImgList[0]);\r\n                        if (vote.descriptionImg == null) {\r\n                            isUpload = false;\r\n                        }\r\n                    }\r\n                    if (this.shareImg[0] != null) {\r\n                        vote.shareImg = await this.uploadImg(this.shareImg[0]);\r\n                        if (vote.shareImg == null) {\r\n                            isUpload = false;\r\n                        }\r\n                    }\r\n                    // console.log(vote)\r\n                    //保存投票信息\r\n                    isCreateVote=await this.saveVote(vote);\r\n                    //保存选项信息\r\n                    for (let i in this.optionList) {\r\n                        let imgName = await this.uploadImg(this.optionList[i].img[0]);\r\n                        if (imgName == null) {\r\n                            isUpload = false;\r\n                        }\r\n                        isSaveOption=await this.saveOption(imgName,i)\r\n                    }\r\n                    if (isUpload == false) {\r\n                        this.$toast.clear();\r\n                        this.$notify({\r\n                            message: '图片上传失败',\r\n                            duration: 1000\r\n                        });\r\n                    } else if (isCreateVote == false) {\r\n                        this.$toast.clear();\r\n                        this.$notify({\r\n                            message: '投票创建失败',\r\n                            duration: 1000\r\n                        });\r\n                    } else if (isSaveOption == false) {\r\n                        this.$toast.clear();\r\n                        this.$notify({\r\n                            message: '选项保存失败',\r\n                            duration: 1000\r\n                        });\r\n                    } else {\r\n                        this.$toast.clear();\r\n                        window.location.href = '/myVote';\r\n                    }\r\n                }\r\n            },\r\n            checkTitle:async function(tilte){\r\n                let isExist=false;\r\n                let checkUrl = this.website + \"/vote/checkTitle\";\r\n                await this.axios.get(checkUrl, {\r\n                    params: {\r\n                        voteTitle: tilte\r\n                    }\r\n                }).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        isExist = response.data.data;\r\n                    } else {\r\n                        console.log(\"检查过程出错\");\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                });\r\n                return isExist;\r\n            },\r\n            saveVote:async function(vote){\r\n                let isCreateVote=false;\r\n                let that=this;\r\n                let createVoteUrl = this.website + \"/vote/createVote\";\r\n                await this.axios.post(createVoteUrl, vote).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        that.newVote = response.data.data;\r\n                        console.log(\"创建投票成功\");\r\n                        isCreateVote = true;\r\n                    } else {\r\n                        console.log(\"创建失败\");\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                });\r\n                return isCreateVote;\r\n            },\r\n            saveOption:async function(imgName,i){\r\n                let isSaveOption=false;\r\n                let saveOptionUrl = this.website + \"/option/saveOption\";\r\n                await this.axios.post(saveOptionUrl, {\r\n                    img: imgName,\r\n                    content: this.optionList[i].content,\r\n                    vote: this.newVote,\r\n                    votes: 0\r\n                }).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        console.log(i + \"选项添加成功\");\r\n                        isSaveOption = true;\r\n                    } else {\r\n                        console.log(i + \"选项添加失败\");\r\n                        isSaveOption = false;\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                })\r\n                return isSaveOption;\r\n            },\r\n            delTable(idx) {\r\n                this.optionList = this.optionList.filter((\r\n                    item, i) => {\r\n                    // console.log([item, i, idx])\r\n                    if (i != idx) {\r\n                        return \"e\"\r\n                    }\r\n                })\r\n            },\r\n            addTable() {\r\n                this.optionList.push({\r\n                    img: [],\r\n                    content: ''\r\n                })\r\n            },\r\n            onShow1() {\r\n                this.timeShow1 = true\r\n            },\r\n            onShow2() {\r\n                this.timeShow2 = true\r\n            },\r\n            confirmTime1(value) {\r\n                this.startTime = value.format(\"yyyy-MM-dd hh:mm\")\r\n                this.timeShow1 = false\r\n            },\r\n            confirmTime2(value) {\r\n                this.deadline = value.format(\"yyyy-MM-dd hh:mm\")\r\n                this.timeShow2 = false\r\n            },\r\n            cancelTime() {\r\n                this.timeShow1 = false\r\n                this.timeShow2 = false\r\n            },\r\n            formatter(type, value) {\r\n                if (type === 'year') {\r\n                    return `${value}年`;\r\n                } else if (type === 'month') {\r\n                    return `${value}月`\r\n                } else if (type === 'day') {\r\n                    return `${value}日`\r\n                } else if (type === 'hour') {\r\n                    return `${value}时`\r\n                } else if (type === 'minute') {\r\n                    return `${value}分`\r\n                }\r\n                return value;\r\n            },\r\n            uploadImg: async function (imgFile) {\r\n                // let that=this;\r\n                let imgName = imgFile.file.name;\r\n                let config = {\r\n                    headers: { //添加请求头\r\n                        \"Content-Type\": \"multipart/form-data\"\r\n                    }\r\n                };\r\n                let uploadUrl = this.website + \"/commons/upload\";\r\n                let params = new FormData(); //创建form对象\r\n                params.append(\"file\", imgFile.file); //通过append向form对象添加数据//第一个参数字符串可以填任意命名，第二个根据对象属性来找到file\r\n                await this.axios.post(uploadUrl, params, config).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        // if(imgFile==that.descriptionImgList[0]){\r\n                        //     that.descriptionImgName=response.data.data;\r\n                        //     // console.log(that.descriptionImgName)\r\n                        // }else if(imgFile==that.shareImg[0]){\r\n                        //     that.shareImgName=response.data.data;\r\n                        //     // console.log(that.shareImgName)\r\n                        // }\r\n                        console.log(imgName + \"图片上传成功\");\r\n                        imgName = response.data.data;\r\n                    } else {\r\n                        console.log(\"上传失败\");\r\n                    }\r\n                }).catch(function ( ) {\r\n                    // eslint-disable-next-line no-console\r\n                     //console.log(err);\r\n                })\r\n                return imgName;\r\n            }\r\n        },\r\n        mounted() {\r\n            let date = new Date();\r\n            date.setDate(date.getDate() + 7)\r\n            this.deadline = date.format(\"yyyy-MM-dd hh:mm\")\r\n            if (sessionStorage.getItem(\"loginUser\") != null || localStorage.getItem(\"loginUser\") != null) {\r\n                this.isLogin = true;\r\n                if (sessionStorage.getItem(\"loginUser\") != null) {\r\n                    this.loginUser = JSON.parse(sessionStorage.getItem(\"loginUser\"));\r\n                }\r\n                if (localStorage.getItem(\"loginUser\") != null) {\r\n                    this.loginUser = JSON.parse(localStorage.getItem(\"loginUser\"));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    Date.prototype.format = function (fmt) {\r\n        var o = {\r\n            \"M+\": this.getMonth() + 1,                 //月份\r\n            \"d+\": this.getDate(),                    //日\r\n            \"h+\": this.getHours(),                   //小时\r\n            \"m+\": this.getMinutes(),                 //分\r\n            \"s+\": this.getSeconds(),                 //秒\r\n            \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\r\n            \"S\": this.getMilliseconds()             //毫秒\r\n        };\r\n\r\n        if (/(y+)/.test(fmt)) {\r\n            fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n        }\r\n\r\n        for (var k in o) {\r\n            if (new RegExp(\"(\" + k + \")\").test(fmt)) {\r\n                fmt = fmt.replace(\r\n                    RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n            }\r\n        }\r\n        return fmt;\r\n    }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n    hr {\r\n        margin-top: 0px;\r\n        margin: 0;\r\n        border: 0;\r\n        color: #e0e0e0;\r\n        background-color: #e0e0e0;\r\n        height: 1px\r\n    }\r\n</style>"],"sourceRoot":"src/views"}]}