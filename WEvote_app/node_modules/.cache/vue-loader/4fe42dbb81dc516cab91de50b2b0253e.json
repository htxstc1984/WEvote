{"remainingRequest":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\newQuestionnaire.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\newQuestionnaire.vue","mtime":1577809558927},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJuZXdRdWVzdGlvbm5haXJlIiwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY292ZXJJbWdVcmw6J2h0dHA6Ly8xMTIuMTI0LjI2LjEyNS90ZXN0L2ltYWdlL2NvdmVyLnBuZycsCiAgICAgICAgICAgIGlzTG9naW46IGZhbHNlLAogICAgICAgICAgICBsb2dpblVzZXI6IHt9LAogICAgICAgICAgICB0aW1lU2hvdzogZmFsc2UsCiAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgY292ZXJJbWdOYW1lOicnLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgICAgIHRvcGljTGlzdDogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgICAgICAgICBvcHRpb25MaXN0OiBbe2NvbnRlbnQ6ICcnfSwge2NvbnRlbnQ6ICcnfV0sCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGRlYWRsaW5lOiAnJywKICAgICAgICAgICAgdGltZVNldDogewogICAgICAgICAgICAgICAgbWluRGF0ZTogbmV3IERhdGUoKSwKICAgICAgICAgICAgICAgIG1heERhdGU6IG5ldyBEYXRlKDIxMDAsIDExLCAzMSksCiAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZTogbmV3IERhdGUoKQogICAgICAgICAgICB9LAogICAgICAgICAgICBuZXdRdWVzdGlvbm5haXJlOiB7fSwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIGFmdGVyUmVhZChmaWxlKSB7CiAgICAgICAgICAgIHRoaXMuY292ZXJJbWdOYW1lID0gYXdhaXQgdGhpcy51cGxvYWRJbWcoZmlsZSk7CiAgICAgICAgICAgIHRoaXMuY292ZXJJbWdVcmw9dGhpcy5pbWdVcmwrdGhpcy5jb3ZlckltZ05hbWU7CiAgICAgICAgfSwKCiAgICAgICAgZGVsVGFibGUoaWR4LCBpZHkpIHsKICAgICAgICAgICAgdGhpcy50b3BpY0xpc3RbaWR4XS5vcHRpb25MaXN0ID0gdGhpcy50b3BpY0xpc3RbaWR4XS5vcHRpb25MaXN0LmZpbHRlcigoCiAgICAgICAgICAgICAgICBpdGVtLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhbaXRlbSwgaSwgaWR4XSkKICAgICAgICAgICAgICAgIGlmIChpICE9IGlkeSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAiZSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGFkZFRhYmxlKGlkeCkgewogICAgICAgICAgICB0aGlzLnRvcGljTGlzdFtpZHhdLm9wdGlvbkxpc3QucHVzaCh7CiAgICAgICAgICAgICAgICBjb250ZW50OiAnJwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgYWRkVG9waWMoKSB7CiAgICAgICAgICAgIHRoaXMudG9waWNMaXN0LnB1c2goewogICAgICAgICAgICAgICAgdGl0bGU6ICcnLAogICAgICAgICAgICAgICAgb3B0aW9uTGlzdDogW3tjb250ZW50OiAnJ30sIHtjb250ZW50OiAnJ31dLAogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZGVsVG9waWMoaWR4KSB7CiAgICAgICAgICAgIHRoaXMudG9waWNMaXN0ID0gdGhpcy50b3BpY0xpc3QuZmlsdGVyKCgKICAgICAgICAgICAgICAgIGl0ZW0sIGkpID0+IHsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFtpdGVtLCBpLCBpZHhdKQogICAgICAgICAgICAgICAgaWYgKGkgIT0gaWR4KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICJlIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZm9ybWF0dGVyKHR5cGUsIHZhbHVlKSB7CiAgICAgICAgICAgIGlmICh0eXBlID09PSAneWVhcicpIHsKICAgICAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZX3lubRgOwogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtb250aCcpIHsKICAgICAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZX3mnIhgCiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2RheScpIHsKICAgICAgICAgICAgICAgIHJldHVybiBgJHt2YWx1ZX3ml6VgCiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2hvdXInKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dmFsdWV95pe2YAogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtaW51dGUnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYCR7dmFsdWV95YiGYAogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9LAogICAgICAgIG9uU2hvdygpIHsKICAgICAgICAgICAgdGhpcy50aW1lU2hvdyA9IHRydWUKICAgICAgICB9LAogICAgICAgIGNvbmZpcm1UaW1lKHZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuZGVhZGxpbmUgPSB2YWx1ZS5mb3JtYXQoInl5eXktTU0tZGQgaGg6bW0iKTsKICAgICAgICAgICAgdGhpcy50aW1lU2hvdyA9IGZhbHNlCiAgICAgICAgfSwKICAgICAgICBjYW5jZWxUaW1lKCkgewogICAgICAgICAgICB0aGlzLnRpbWVTaG93ID0gZmFsc2UKICAgICAgICB9LAogICAgICAgIHVwbG9hZEltZzogYXN5bmMgZnVuY3Rpb24gKGltZ0ZpbGUpIHsKICAgICAgICAgICAgLy8gbGV0IHRoYXQ9dGhpczsKICAgICAgICAgICAgbGV0IGltZ05hbWUgPSBpbWdGaWxlLmZpbGUubmFtZTsKICAgICAgICAgICAgbGV0IGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgLy/mt7vliqDor7fmsYLlpLQKICAgICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGxldCB1cGxvYWRVcmwgPSB0aGlzLndlYnNpdGUgKyAiL2NvbW1vbnMvdXBsb2FkIjsKICAgICAgICAgICAgbGV0IHBhcmFtcyA9IG5ldyBGb3JtRGF0YSgpOyAvL+WIm+W7umZvcm3lr7nosaEKICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgiZmlsZSIsIGltZ0ZpbGUuZmlsZSk7IC8v6YCa6L+HYXBwZW5k5ZCRZm9ybeWvueixoea3u+WKoOaVsOaNri8v56ys5LiA5Liq5Y+C5pWw5a2X56ym5Liy5Y+v5Lul5aGr5Lu75oSP5ZG95ZCN77yM56ys5LqM5Liq5qC55o2u5a+56LGh5bGe5oCn5p2l5om+5YiwZmlsZQogICAgICAgICAgICBhd2FpdCB0aGlzLmF4aW9zLnBvc3QodXBsb2FkVXJsLCBwYXJhbXMsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW1nTmFtZSArICLlm77niYfkuIrkvKDmiJDlip8iKTsKICAgICAgICAgICAgICAgICAgICBpbWdOYW1lID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoJ+S4iuS8oOWksei0pScpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLkuIrkvKDlpLHotKUiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gaW1nTmFtZTsKICAgICAgICB9LAogICAgICAgIGFzeW5jIGNyZWF0ZVF1ZXN0aW9ubmFpcmUoKSB7CiAgICAgICAgICAgIGxldCB0b3BpY1RpdGxlQ2hlY2sgPSB0cnVlOwogICAgICAgICAgICBsZXQgdG9waWNPcHRpb25DaGVjayA9IHRydWU7CiAgICAgICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy50b3BpY0xpc3QpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvcGljTGlzdFtpXS50aXRsZSA9PSAnJykgewogICAgICAgICAgICAgICAgICAgIHRvcGljVGl0bGVDaGVjayA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZm9yIChsZXQgaiBpbiB0aGlzLnRvcGljTGlzdFtpXS5vcHRpb25MaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudG9waWNMaXN0W2ldLm9wdGlvbkxpc3Rbal0uY29udGVudCA9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICB0b3BpY09wdGlvbkNoZWNrID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0aGlzLnRpbHRlID09ICcnKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnpl67ljbfmoIfpopgnCiAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBvbiBjbG9zZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50b3BpY0xpc3QubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5hbGVydCh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+iHs+Wwkea3u+WKoOS4gOS4qumXrumimCcKICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIG9uIGNsb3NlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0b3BpY1RpdGxlQ2hlY2sgPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5hbGVydCh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+mimOebruagh+mimOS4jeiDveS4uuepuicKICAgICAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIG9uIGNsb3NlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0b3BpY09wdGlvbkNoZWNrID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfpopjnm67pgInpobnkuI3og73kuLrnqbonCiAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBvbiBjbG9zZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgaXNFeGlzdCA9IGF3YWl0IHRoaXMuY2hlY2tUaXRsZSh0aGlzLnRpbHRlKTsKICAgICAgICAgICAgICAgIGlmIChpc0V4aXN0ID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+mXruWNt+agh+mimOW3suWtmOWcqCcKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gY2xvc2UKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgaXNDcmVhdGVRdWVzID0gZmFsc2U7CiAgICAgICAgICAgICAgICBsZXQgaXNTYXZlVG9waWMgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGxldCBxdWVzdGlvbm5haXJlPXsKICAgICAgICAgICAgICAgICAgICBjcmVhdG9yOnRoaXMubG9naW5Vc2VyLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOnRoaXMudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246dGhpcy5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgICBjb3ZlckltZzp0aGlzLmNvdmVySW1nTmFtZSwKICAgICAgICAgICAgICAgICAgICBkZWFkbGluZTp0aGlzLmRlYWRsaW5lCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaXNDcmVhdGVRdWVzPWF3YWl0IHRoaXMuc2F2ZVF1ZXN0aW9ubmFpcmUocXVlc3Rpb25uYWlyZSk7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMudG9waWNMaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgaXNTYXZlVG9waWM9YXdhaXQgdGhpcy5zYXZlVG9waWMoaSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChpc0NyZWF0ZVF1ZXMgPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5jbGVhcigpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfpl67ljbfliJvlu7rlpLHotKUnLAogICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1NhdmVUb3BpYyA9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+mimOebruS/neWtmOWksei0pScsCiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL215Vm90ZSc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzYXZlVG9waWM6YXN5bmMgZnVuY3Rpb24oaSl7CiAgICAgICAgICAgIGxldCBpc1NhdmVUb3BpYz1mYWxzZTsKICAgICAgICAgICAgbGV0IHNhdmVUb3BpY1VybCA9IHRoaXMud2Vic2l0ZSArICIvdG9waWMvc2F2ZVRvcGljIjsKICAgICAgICAgICAgbGV0IG9wdGlvbnM9W107CiAgICAgICAgICAgIGZvcihsZXQgaiBpbiB0aGlzLnRvcGljTGlzdFtpXS5vcHRpb25MaXN0KXsKICAgICAgICAgICAgICAgIG9wdGlvbnNbal09ewogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6dGhpcy50b3BpY0xpc3RbaV0ub3B0aW9uTGlzdFtqXS5jb250ZW50LAogICAgICAgICAgICAgICAgICAgIGNob2ljZU51bTowCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IHRvcGljPXsKICAgICAgICAgICAgICAgIHF1ZXN0aW9ubmFpcmU6IHRoaXMubmV3UXVlc3Rpb25uYWlyZSwKICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRvcGljTGlzdFtpXS50aXRsZSwKICAgICAgICAgICAgICAgIG9wdGlvbkxpc3Q6b3B0aW9ucwogICAgICAgICAgICB9OwogICAgICAgICAgICBjb25zb2xlLmxvZyh0b3BpYyk7CiAgICAgICAgICAgIGF3YWl0IHRoaXMuYXhpb3MucG9zdChzYXZlVG9waWNVcmwsSlNPTi5zdHJpbmdpZnkodG9waWMpLHsKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgLy/mt7vliqDor7fmsYLlpLQKICAgICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCIsCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGkgKyAi6YCJ6aG55re75Yqg5oiQ5YqfIik7CiAgICAgICAgICAgICAgICAgICAgaXNTYXZlVG9waWMgPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpICsgIumAiemhuea3u+WKoOWksei0pSIpOwogICAgICAgICAgICAgICAgICAgIGlzU2F2ZVRvcGljID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgaXNTYXZlVG9waWMgPSBmYWxzZTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuIGlzU2F2ZVRvcGljOwogICAgICAgIH0sCiAgICAgICAgc2F2ZVF1ZXN0aW9ubmFpcmU6YXN5bmMgZnVuY3Rpb24ocXVlcyl7CiAgICAgICAgICAgIGxldCBpc0NyZWF0ZVF1ZXM9ZmFsc2U7CiAgICAgICAgICAgIGxldCB0aGF0PXRoaXM7CiAgICAgICAgICAgIGxldCBjcmVhdGVVcmw9dGhpcy53ZWJzaXRlICsgIi9xdWVzdGlvbm5haXJlL2NyZWF0ZVF1ZXN0aW9ubmFpcmUiOwogICAgICAgICAgICBhd2FpdCB0aGlzLmF4aW9zLnBvc3QoY3JlYXRlVXJsLCBxdWVzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGF0Lm5ld1F1ZXN0aW9ubmFpcmUgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuWIm+W7uumXruWNt+aIkOWKnyIpOwogICAgICAgICAgICAgICAgICAgIGlzQ3JlYXRlUXVlcyA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLliJvlu7rlpLHotKUiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gaXNDcmVhdGVRdWVzOwogICAgICAgIH0sCiAgICAgICAgY2hlY2tUaXRsZTphc3luYyBmdW5jdGlvbih0aWx0ZSl7CiAgICAgICAgICAgIGxldCBpc0V4aXN0PWZhbHNlOwogICAgICAgICAgICBsZXQgY2hlY2tVcmwgPSB0aGlzLndlYnNpdGUgKyAiL3F1ZXN0aW9ubmFpcmUvY2hlY2tUaXRsZSI7CiAgICAgICAgICAgIGF3YWl0IHRoaXMuYXhpb3MuZ2V0KGNoZWNrVXJsLCB7CiAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICB2b3RlVGl0bGU6IHRpbHRlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIGlzRXhpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmo4Dmn6Xov4fnqIvlh7rplJkiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gaXNFeGlzdDsKICAgICAgICB9LAogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIDcpOwogICAgICAgIHRoaXMuZGVhZGxpbmUgPSBkYXRlLmZvcm1hdCgieXl5eS1NTS1kZCBoaDptbSIpOwogICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJsb2dpblVzZXIiKSAhPSBudWxsIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsb2dpblVzZXIiKSAhPSBudWxsKSB7CiAgICAgICAgICAgIHRoaXMuaXNMb2dpbiA9IHRydWU7CiAgICAgICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJsb2dpblVzZXIiKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luVXNlciA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgibG9naW5Vc2VyIikpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9naW5Vc2VyIikgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgdGhpcy5sb2dpblVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsb2dpblVzZXIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCkRhdGUucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChmbXQpIHsKICAgIHZhciBvID0gewogICAgICAgICJNKyI6IHRoaXMuZ2V0TW9udGgoKSArIDEsICAgICAgICAgICAgICAgICAvL+aciOS7vQogICAgICAgICJkKyI6IHRoaXMuZ2V0RGF0ZSgpLCAgICAgICAgICAgICAgICAgICAgLy/ml6UKICAgICAgICAiaCsiOiB0aGlzLmdldEhvdXJzKCksICAgICAgICAgICAgICAgICAgIC8v5bCP5pe2CiAgICAgICAgIm0rIjogdGhpcy5nZXRNaW51dGVzKCksICAgICAgICAgICAgICAgICAvL+WIhgogICAgICAgICJzKyI6IHRoaXMuZ2V0U2Vjb25kcygpLCAgICAgICAgICAgICAgICAgLy/np5IKICAgICAgICAicSsiOiBNYXRoLmZsb29yKCh0aGlzLmdldE1vbnRoKCkgKyAzKSAvIDMpLCAvL+Wto+W6pgogICAgICAgICJTIjogdGhpcy5nZXRNaWxsaXNlY29uZHMoKSAgICAgICAgICAgICAvL+avq+enkgogICAgfTsKCiAgICBpZiAoLyh5KykvLnRlc3QoZm10KSkgewogICAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKHRoaXMuZ2V0RnVsbFllYXIoKSArICIiKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKTsKICAgIH0KCiAgICBmb3IgKHZhciBrIGluIG8pIHsKICAgICAgICBpZiAobmV3IFJlZ0V4cCgiKCIgKyBrICsgIikiKS50ZXN0KGZtdCkpIHsKICAgICAgICAgICAgZm10ID0gZm10LnJlcGxhY2UoCiAgICAgICAgICAgICAgICBSZWdFeHAuJDEsIChSZWdFeHAuJDEubGVuZ3RoID09IDEpID8gKG9ba10pIDogKCgiMDAiICsgb1trXSkuc3Vic3RyKCgiIiArIG9ba10pLmxlbmd0aCkpKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gZm10Owp9Cg=="},{"version":3,"sources":["newQuestionnaire.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"newQuestionnaire.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"maindiv\">\r\n        <van-row type=\"flex\" justify=\"end\" id=\"updatebutton\">\r\n            <van-uploader :after-read=\"afterRead\">\r\n                <van-button round type=\"info\" color=\"linear-gradient(to right, #4bb0ff, #6149f6)\" size=\"small\">点击上传\r\n                </van-button>\r\n            </van-uploader>\r\n        </van-row>\r\n        <van-row type=\"flex\" justify=\"center\">\r\n            <van-image\r\n                    width=\"300\"\r\n                    height=\"170\"\r\n                    :src=coverImgUrl\r\n            />\r\n        </van-row>\r\n        <van-row type=\"flex\" justify=\"center\" style=\"margin-bottom: 16px\">\r\n            <span id=\"updatespan\">建议上传像素为600*340的封面图片</span>\r\n        </van-row>\r\n        <hr style=\"height: 7px\">\r\n        <van-cell-group class=\"mygroup\">\r\n            <van-field\r\n                    v-model=\"title\"\r\n                    label=\"问卷标题\"\r\n                    placeholder=\"必填\"\r\n            />\r\n\r\n            <van-field\r\n                    v-model=\"description\"\r\n                    label=\"问卷描述\"\r\n                    placeholder=\"大致描述问卷内容\"\r\n            />\r\n        </van-cell-group>\r\n        <hr style=\"height: 7px\">\r\n        <div v-for=\"(topic,i) in topicList\" :key=\"i\">\r\n            <van-cell-group>\r\n                <van-field v-model=\"topic.title\" placeholder=\"题目标题\"/>\r\n            </van-cell-group>\r\n            <van-cell-group v-for=\"(item,j) in topic.optionList\" :key=\"j\">\r\n                <van-row>\r\n                    <van-col span=\"2\">\r\n                        <img src=\"../assets/images/del.png\" style=\"margin:12px 5px;\" height=\"24px\" width=\"24px\"\r\n                             @click=\"delTable(i,j)\">\r\n                    </van-col>\r\n                    <van-col span=\"22\">\r\n                        <van-field v-model=\"item.content\" placeholder=\"选项内容\"/>\r\n                    </van-col>\r\n                </van-row>\r\n            </van-cell-group>\r\n            <van-row>\r\n                <van-col span=\"2\">\r\n                    <img src=\"../assets/images/add.png\" style=\"margin:12px 5px;\" height=\"24px\" width=\"24px\"\r\n                         @click=\"addTable(i)\">\r\n                </van-col>\r\n                <van-col span=\"15\">\r\n                    <span id=\"addtable\" @click=\"addTable(i)\">添加选项</span>\r\n                </van-col>\r\n                <van-col span=\"2\">\r\n                    <img src=\"../assets/images/del2.png\" style=\"margin:14px 5px;\" height=\"20px\" width=\"20px\"\r\n                         @click=\"delTopic(i)\">\r\n                </van-col>\r\n                <van-col span=\"5\">\r\n                    <span id=\"deltable\" @click=\"delTopic(i)\">删除题目</span>\r\n                </van-col>\r\n            </van-row>\r\n        </div>\r\n        <van-row type=\"flex\" justify=\"center\" style=\"margin: 8px 32px\">\r\n            <van-button type=\"info\" icon=\"add-o\" size=\"large\" @click=\"addTopic\">添加题目</van-button>\r\n        </van-row>\r\n        <hr style=\"height: 7px\">\r\n        <van-cell-group>\r\n            <van-row>\r\n                <van-col span=\"16\">\r\n                    <span style=\"display: block;margin: 14px 16px\">截止时间</span>\r\n                </van-col>\r\n                <van-col span=\"8\">\r\n                    <span @click=\"onShow\" style=\"display: block;margin-top: 14px\">{{deadline}}</span>\r\n                </van-col>\r\n            </van-row>\r\n        </van-cell-group>\r\n        <div class=\"d-flex justify-content-center\">\r\n            <button type=\"button\" class=\"btn btn-primary\" style=\"margin-top: 20px\" @click=\"createQuestionnaire\">创建问卷\r\n            </button>\r\n        </div>\r\n        <van-action-sheet v-model=\"timeShow\">\r\n            <van-datetime-picker\r\n                    v-model=\"timeSet.currentDate\"\r\n                    type=\"datetime\"\r\n                    :min-date=\"timeSet.minDate\"\r\n                    :max-date=\"timeSet.maxDate\"\r\n                    :formatter=\"formatter\"\r\n                    @confirm=\"confirmTime\"\r\n                    @cancel=\"cancelTime\"\r\n            />\r\n        </van-action-sheet>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"newQuestionnaire\",\r\n        data() {\r\n            return {\r\n                coverImgUrl:'http://112.124.26.125/test/image/cover.png',\r\n                isLogin: false,\r\n                loginUser: {},\r\n                timeShow: false,\r\n                title: '',\r\n                coverImgName:'',\r\n                description: '',\r\n                topicList: [\r\n                    {\r\n                        title: '',\r\n                        optionList: [{content: ''}, {content: ''}],\r\n                    }\r\n                ],\r\n                deadline: '',\r\n                timeSet: {\r\n                    minDate: new Date(),\r\n                    maxDate: new Date(2100, 11, 31),\r\n                    currentDate: new Date()\r\n                },\r\n                newQuestionnaire: {},\r\n            }\r\n        },\r\n        methods: {\r\n            async afterRead(file) {\r\n                this.coverImgName = await this.uploadImg(file);\r\n                this.coverImgUrl=this.imgUrl+this.coverImgName;\r\n            },\r\n\r\n            delTable(idx, idy) {\r\n                this.topicList[idx].optionList = this.topicList[idx].optionList.filter((\r\n                    item, i) => {\r\n                    // console.log([item, i, idx])\r\n                    if (i != idy) {\r\n                        return \"e\"\r\n                    }\r\n                })\r\n            },\r\n            addTable(idx) {\r\n                this.topicList[idx].optionList.push({\r\n                    content: ''\r\n                })\r\n            },\r\n            addTopic() {\r\n                this.topicList.push({\r\n                    title: '',\r\n                    optionList: [{content: ''}, {content: ''}],\r\n                })\r\n            },\r\n            delTopic(idx) {\r\n                this.topicList = this.topicList.filter((\r\n                    item, i) => {\r\n                    // console.log([item, i, idx])\r\n                    if (i != idx) {\r\n                        return \"e\"\r\n                    }\r\n                })\r\n            },\r\n            formatter(type, value) {\r\n                if (type === 'year') {\r\n                    return `${value}年`;\r\n                } else if (type === 'month') {\r\n                    return `${value}月`\r\n                } else if (type === 'day') {\r\n                    return `${value}日`\r\n                } else if (type === 'hour') {\r\n                    return `${value}时`\r\n                } else if (type === 'minute') {\r\n                    return `${value}分`\r\n                }\r\n                return value;\r\n            },\r\n            onShow() {\r\n                this.timeShow = true\r\n            },\r\n            confirmTime(value) {\r\n                this.deadline = value.format(\"yyyy-MM-dd hh:mm\");\r\n                this.timeShow = false\r\n            },\r\n            cancelTime() {\r\n                this.timeShow = false\r\n            },\r\n            uploadImg: async function (imgFile) {\r\n                // let that=this;\r\n                let imgName = imgFile.file.name;\r\n                let config = {\r\n                    headers: { //添加请求头\r\n                        \"Content-Type\": \"multipart/form-data\"\r\n                    }\r\n                };\r\n                let uploadUrl = this.website + \"/commons/upload\";\r\n                let params = new FormData(); //创建form对象\r\n                params.append(\"file\", imgFile.file); //通过append向form对象添加数据//第一个参数字符串可以填任意命名，第二个根据对象属性来找到file\r\n                await this.axios.post(uploadUrl, params, config).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        console.log(imgName + \"图片上传成功\");\r\n                        imgName = response.data.data;\r\n                    } else {\r\n                        this.$notify('上传失败');\r\n                        console.log(\"上传失败\");\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                });\r\n                return imgName;\r\n            },\r\n            async createQuestionnaire() {\r\n                let topicTitleCheck = true;\r\n                let topicOptionCheck = true;\r\n                for (let i in this.topicList) {\r\n                    if (this.topicList[i].title == '') {\r\n                        topicTitleCheck = false;\r\n                    }\r\n                    for (let j in this.topicList[i].optionList) {\r\n                        if (this.topicList[i].optionList[j].content == '') {\r\n                            topicOptionCheck = false;\r\n                        }\r\n                    }\r\n                }\r\n                if (this.tilte == '') {\r\n                    this.$dialog.alert({\r\n                        message: '请填写问卷标题'\r\n                    }).then(() => {\r\n                        // on close\r\n                    });\r\n                } else if (this.topicList.length == 0) {\r\n                    this.$dialog.alert({\r\n                        message: '请至少添加一个问题'\r\n                    }).then(() => {\r\n                        // on close\r\n                    });\r\n                } else if (topicTitleCheck == false) {\r\n                    this.$dialog.alert({\r\n                        message: '题目标题不能为空'\r\n                    }).then(() => {\r\n                        // on close\r\n                    });\r\n                } else if (topicOptionCheck == false) {\r\n                    this.$dialog.alert({\r\n                        message: '题目选项不能为空'\r\n                    }).then(() => {\r\n                        // on close\r\n                    });\r\n                } else {\r\n                    let isExist = await this.checkTitle(this.tilte);\r\n                    if (isExist == false) {\r\n                        this.$dialog.alert({\r\n                            message: '问卷标题已存在'\r\n                        }).then(() => {\r\n                            // on close\r\n                        });\r\n                        return;\r\n                    }\r\n                    let isCreateQues = false;\r\n                    let isSaveTopic = false;\r\n                    let questionnaire={\r\n                        creator:this.loginUser,\r\n                        title:this.title,\r\n                        description:this.description,\r\n                        coverImg:this.coverImgName,\r\n                        deadline:this.deadline\r\n                    };\r\n                    isCreateQues=await this.saveQuestionnaire(questionnaire);\r\n                    for (let i in this.topicList) {\r\n                        isSaveTopic=await this.saveTopic(i)\r\n                    }\r\n                    if (isCreateQues == false) {\r\n                        this.$toast.clear();\r\n                        this.$notify({\r\n                            message: '问卷创建失败',\r\n                            duration: 1000\r\n                        });\r\n                    } else if (isSaveTopic == false) {\r\n                        this.$toast.clear();\r\n                        this.$notify({\r\n                            message: '题目保存失败',\r\n                            duration: 1000\r\n                        });\r\n                    } else {\r\n                        this.$toast.clear();\r\n                        // window.location.href = '/myVote';\r\n                    }\r\n\r\n                }\r\n            },\r\n            saveTopic:async function(i){\r\n                let isSaveTopic=false;\r\n                let saveTopicUrl = this.website + \"/topic/saveTopic\";\r\n                let options=[];\r\n                for(let j in this.topicList[i].optionList){\r\n                    options[j]={\r\n                        content:this.topicList[i].optionList[j].content,\r\n                        choiceNum:0\r\n                    }\r\n                }\r\n                let topic={\r\n                    questionnaire: this.newQuestionnaire,\r\n                    title: this.topicList[i].title,\r\n                    optionList:options\r\n                };\r\n                console.log(topic);\r\n                await this.axios.post(saveTopicUrl,JSON.stringify(topic),{\r\n                    headers: { //添加请求头\r\n                        \"Content-Type\": \"application/json;charset=utf-8\",\r\n                    }\r\n                }).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        console.log(i + \"选项添加成功\");\r\n                        isSaveTopic = true;\r\n                    } else {\r\n                        console.log(i + \"选项添加失败\");\r\n                        isSaveTopic = false;\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                    isSaveTopic = false;\r\n                })\r\n                return isSaveTopic;\r\n            },\r\n            saveQuestionnaire:async function(ques){\r\n                let isCreateQues=false;\r\n                let that=this;\r\n                let createUrl=this.website + \"/questionnaire/createQuestionnaire\";\r\n                await this.axios.post(createUrl, ques).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        that.newQuestionnaire = response.data.data;\r\n                        console.log(\"创建问卷成功\");\r\n                        isCreateQues = true;\r\n                    } else {\r\n                        console.log(\"创建失败\");\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                });\r\n                return isCreateQues;\r\n            },\r\n            checkTitle:async function(tilte){\r\n                let isExist=false;\r\n                let checkUrl = this.website + \"/questionnaire/checkTitle\";\r\n                await this.axios.get(checkUrl, {\r\n                    params: {\r\n                        voteTitle: tilte\r\n                    }\r\n                }).then(function (response) {\r\n                    if (response.data.code == 200) {\r\n                        isExist = response.data.data;\r\n                    } else {\r\n                        console.log(\"检查过程出错\");\r\n                    }\r\n                }).catch(function (err) {\r\n                    // eslint-disable-next-line no-console\r\n                    console.log(err);\r\n                });\r\n                return isExist;\r\n            },\r\n        },\r\n        mounted() {\r\n            let date = new Date();\r\n            date.setDate(date.getDate() + 7);\r\n            this.deadline = date.format(\"yyyy-MM-dd hh:mm\");\r\n            if (sessionStorage.getItem(\"loginUser\") != null || localStorage.getItem(\"loginUser\") != null) {\r\n                this.isLogin = true;\r\n                if (sessionStorage.getItem(\"loginUser\") != null) {\r\n                    this.loginUser = JSON.parse(sessionStorage.getItem(\"loginUser\"));\r\n                }\r\n                if (localStorage.getItem(\"loginUser\") != null) {\r\n                    this.loginUser = JSON.parse(localStorage.getItem(\"loginUser\"));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    Date.prototype.format = function (fmt) {\r\n        var o = {\r\n            \"M+\": this.getMonth() + 1,                 //月份\r\n            \"d+\": this.getDate(),                    //日\r\n            \"h+\": this.getHours(),                   //小时\r\n            \"m+\": this.getMinutes(),                 //分\r\n            \"s+\": this.getSeconds(),                 //秒\r\n            \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\r\n            \"S\": this.getMilliseconds()             //毫秒\r\n        };\r\n\r\n        if (/(y+)/.test(fmt)) {\r\n            fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n        }\r\n\r\n        for (var k in o) {\r\n            if (new RegExp(\"(\" + k + \")\").test(fmt)) {\r\n                fmt = fmt.replace(\r\n                    RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n            }\r\n        }\r\n        return fmt;\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .maindiv {\r\n        margin-bottom: 20px;\r\n        margin-top: 30px;\r\n    }\r\n\r\n    .mygroup {\r\n        margin-right: 8px;\r\n    }\r\n\r\n    #updatebutton {\r\n        margin-right: 16px;\r\n    }\r\n\r\n    #updatespan {\r\n        color: #818181;\r\n        font-size: x-small;\r\n    }\r\n\r\n    #addtable {\r\n        color: #2a89ff;\r\n        display: block;\r\n        margin-top: 10px\r\n    }\r\n\r\n    #deltable {\r\n        color: #ff6565;\r\n        display: block;\r\n        margin-top: 10px\r\n    }\r\n\r\n    hr {\r\n        margin-top: 0px;\r\n        margin: 0;\r\n        border: 0;\r\n        color: #e0e0e0;\r\n        background-color: #e0e0e0;\r\n        height: 1px\r\n    }\r\n</style>"]}]}