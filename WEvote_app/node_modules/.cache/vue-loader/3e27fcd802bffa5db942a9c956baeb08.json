{"remainingRequest":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\login.vue","mtime":1577866994701},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBteVNsaWRlciBmcm9tICcuLi9jb21wb25lbnRzL21zbGlkZXIudnVlJwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAibG9naW4iLAogICAgY29tcG9uZW50czogewogICAgICAgIG15U2xpZGVyCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB1c2VyTmFtZTogJycsCiAgICAgICAgICAgIHBhc3NXb3JkOiAnJywKICAgICAgICAgICAgbG9naW5Vc2VyOnt9CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGRvTG9naW4oKXsKICAgICAgICAgICAgLy8g5ruR5Z2X6aqM6K+BCiAgICAgICAgICAgIGxldCBjb25maXJtU3VjY2VzcyA9IHRoaXMuJHJlZnMuaXNTdWNjZXNzLmNvbmZpcm1TdWNjZXNzOwogICAgICAgICAgICBpZiAoY29uZmlybVN1Y2Nlc3MpewogICAgICAgICAgICAgICAgbGV0IHVybD10aGlzLndlYnNpdGUrIi91c2VyL21Mb2dpbiI7CiAgICAgICAgICAgICAgICBsZXQgdGhhdD10aGlzOwogICAgICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQodXJsLCB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiB0aGlzLnVzZXJOYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBwYXNzV29yZDogdGhpcy5wYXNzV29yZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5sb2dpblVzZXIgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIC8vY29uc29sZS5sb2coIueZu+mZhuaIkOWKnyIpOwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibG9naW5Vc2VyIixKU09OLnN0cmluZ2lmeSh0aGF0LmxvZ2luVXNlcikpOwogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvYWJvdXQnOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coIueZu+mZhuWksei0pSIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICggKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCApOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6K+35YWI6YCa6L+H6aqM6K+BJwogICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8gb24gY2xvc2UKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB0b1JlZygpewogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvcmVnJzsKICAgICAgICB9LAogICAgfQp9Cg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div style=\"margin-top: 30px\">\r\n        <van-row>\r\n            <van-col span=\"2\">\r\n                <img src=\"../assets/images/h1.png\" height=\"24px\" width=\"24px\" style=\"margin-left: 8px;margin-top: 6px\"/>\r\n            </van-col>\r\n            <van-col span=\"22\">\r\n                <span style=\"display: block;margin: 6px 0px\">用户登录</span>\r\n            </van-col>\r\n        </van-row>\r\n        <van-cell-group>\r\n            <van-field\r\n                    v-model=\"userName\"\r\n                    required\r\n                    clearable\r\n                    label=\"用户名\"\r\n                    right-icon=\"question-o\"\r\n                    placeholder=\"请输入用户名\"\r\n                    @click-right-icon=\"$toast('question')\"\r\n            />\r\n\r\n            <van-field\r\n                    v-model=\"passWord\"\r\n                    type=\"password\"\r\n                    label=\"密码\"\r\n                    placeholder=\"请输入密码\"\r\n                    required\r\n            />\r\n        </van-cell-group>\r\n        <div class=\"d-flex justify-content-center\">\r\n            <div style=\"width: 70%;margin-top: 16px\">\r\n                <mySlider ref=\"isSuccess\"></mySlider>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"d-flex justify-content-center\">\r\n            <van-button color=\"#7232dd\" style=\"margin-top: 50px;margin-right: 50px\" plain @click=\"doLogin\">立即登录</van-button>\r\n            <van-button color=\"#7232dd\" style=\"margin-top: 50px\" plain @click=\"toReg\">前往注册</van-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import mySlider from '../components/mslider.vue'\r\n    export default {\r\n        name: \"login\",\r\n        components: {\r\n            mySlider\r\n        },\r\n        data() {\r\n            return {\r\n                userName: '',\r\n                passWord: '',\r\n                loginUser:{}\r\n            }\r\n        },\r\n        methods:{\r\n            doLogin(){\r\n                // 滑块验证\r\n                let confirmSuccess = this.$refs.isSuccess.confirmSuccess;\r\n                if (confirmSuccess){\r\n                    let url=this.website+\"/user/mLogin\";\r\n                    let that=this;\r\n                    this.axios.get(url, {\r\n                        params: {\r\n                            userName: this.userName,\r\n                            passWord: this.passWord\r\n                        }\r\n                    }).then(function (response) {\r\n                        if (response.data.code == 200) {\r\n                            that.loginUser = response.data.data;\r\n                            // //console.log(\"登陆成功\");\r\n                            localStorage.setItem(\"loginUser\",JSON.stringify(that.loginUser));\r\n                            window.location.href = '/about';\r\n                        } else {\r\n                            //console.log(\"登陆失败\");\r\n                        }\r\n                    }).catch(function ( ) {\r\n                        // eslint-disable-next-line no-console\r\n                        //console.log( );\r\n                    })\r\n                }else {\r\n                    this.$dialog.alert({\r\n                        message: '请先通过验证'\r\n                    }).then(() => {\r\n                        // on close\r\n                    });\r\n                }\r\n            },\r\n            toReg(){\r\n                window.location.href = '/reg';\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}