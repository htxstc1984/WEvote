{"remainingRequest":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\src\\views\\Home.vue","mtime":1577871586904},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ray\\WebstormProjects\\vote_app4\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwoKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdob21lJywKICAgIGNvbXBvbmVudHM6IHt9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzZWFyY2hWYWx1ZTogJycsCiAgICAgICAgICAgIGltYWdlTGlzdDogWwogICAgICAgICAgICAgICAgJy4uL2Fzc2V0cy9pbWFnZXMvaDEucG5nJywKICAgICAgICAgICAgXSwKICAgICAgICAgICAgdm90ZUxpc3Q6IFtdLAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgb25TZWFyY2goKSB7CiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5zZWFyY2hWYWx1ZSkKICAgICAgICB9LAogICAgICAgIHRvTmV3Vm90ZSgpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJ25ld0ltYWdlVm90ZScpCiAgICAgICAgfSwKICAgICAgICBuZXdRdWVzdGlvbm5haXJlKCkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnbmV3UXVlc3Rpb25uYWlyZScpCiAgICAgICAgfSwKICAgICAgICBnZXRWb3RlTGlzdDogYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgdm90ZUxpc3QgPSBbXTsKICAgICAgICAgICAgbGV0IGdldFZvdGVVcmwgPSB0aGlzLndlYnNpdGUgKyAnL3ZvdGUvZ2V0QWxsVm90ZSc7CiAgICAgICAgICAgIGF3YWl0IHRoaXMuYXhpb3MuZ2V0KGdldFZvdGVVcmwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHZvdGVMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCLmiYDmnInmipXnpajkv6Hmga/mn6Xor6LlpLHotKUiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyggKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB2b3RlTGlzdDsKICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLnZvdGVMaXN0ID0gYXdhaXQgdGhpcy5nZXRWb3RlTGlzdCgpOwogICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy52b3RlTGlzdCkgewogICAgICAgICAgICB0aGlzLnZvdGVMaXN0W2ldLmRlc2NyaXB0aW9uSW1nID0gdGhpcy5pbWdVcmwgKyB0aGlzLnZvdGVMaXN0W2ldLmRlc2NyaXB0aW9uSW1nOwogICAgICAgIH0KICAgICAgICAvLyAvL2NvbnNvbGUubG9nKHRoaXMudm90ZUxpc3QpCiAgICB9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"home\">\n        <!--    <img alt=\"Vue logo\" src=\"../assets/logo.png\">-->\n        <!--    <HelloWorld msg=\"Welcome to Your Vue.js App\"/>-->\n        <van-row>\n            <van-col span=\"4\">\n                <van-icon size=\"34\" name=\"https://b.yzcdn.cn/vant/icon-demo-1126.png\"\n                          style=\"padding-top: 10px;padding-left: 16px\"/>\n            </van-col>\n            <van-col span=\"20\">\n                <van-search\n                        v-model=\"searchValue\"\n                        placeholder=\"请输入搜索关键词\"\n                        show-action\n                        shape=\"round\"\n                        @search=\"onSearch\"\n                        style=\"padding-right: 10px\"\n                >\n                    <div slot=\"action\" @click=\"onSearch\">搜索</div>\n                </van-search>\n            </van-col>\n        </van-row>\n\n        <!---->\n        <van-row>\n            <van-col span=\"2\">\n                <img src=\"../assets/images/h1.png\" height=\"24px\" width=\"24px\" style=\"margin-left: 8px;margin-top: 6px\"/>\n            </van-col>\n            <van-col span=\"22\">\n                <span style=\"display: block;margin: 6px 0px\">创建投票</span>\n            </van-col>\n        </van-row>\n        <van-row type=\"flex\" justify=\"center\">\n            <van-col span=\"9\">\n                <img src=\"../assets/images/b3.png\" class=\"img-fluid\" @click=\"newQuestionnaire\"/>\n            </van-col>\n            <van-col span=\"9\">\n                <img src=\"../assets/images/b2.png\" class=\"img-fluid\" @click=\"toNewVote\"/>\n            </van-col>\n        </van-row>\n        <!--        <van-row type=\"flex\" justify=\"center\">-->\n        <!--            <van-col span=\"9\">-->\n        <!--                <img src=\"../assets/images/b1.png\" class=\"img-fluid\"/>-->\n        <!--            </van-col>-->\n        <!--            <van-col span=\"9\">-->\n        <!--                <img src=\"../assets/images/b4.png\" class=\"img-fluid\"/>-->\n        <!--            </van-col>-->\n        <!--        </van-row>-->\n        <!-- -->\n        <van-row>\n            <van-col span=\"2\">\n                <img src=\"../assets/images/h1.png\" height=\"24px\" width=\"24px\" style=\"margin-left: 8px;margin-top: 6px\"/>\n            </van-col>\n            <van-col span=\"22\">\n                <span style=\"display: block;margin: 6px 0px\">精选话题</span>\n            </van-col>\n        </van-row>\n        <h6></h6>\n        <van-row style=\"margin: 8px\">\n            <van-col>\n                <img src=\"../assets/images/1172324.png\" height=\"110px\">\n            </van-col>\n            <van-col>\n                <img src=\"../assets/images/1577870279.png\" height=\"110px\">\n            </van-col>\n        </van-row>\n        <van-tag plain type=\"warning\" style=\"margin-left: 8px\">官方话题</van-tag>(所有图片上传限制1M一下)\n\n        <!-- -->\n        <van-row>\n            <van-col span=\"2\">\n                <img src=\"../assets/images/h1.png\" height=\"24px\" width=\"24px\" style=\"margin-left: 8px;margin-top: 6px\"/>\n            </van-col>\n            <van-col span=\"22\">\n                <span style=\"display: block;margin: 6px 0px\">热门评选</span>\n            </van-col>\n        </van-row>\n        <div v-for=\"(item,i) in voteList\" :key=\"i\">\n            <div class=\"card border-light mb-3 shadow-sm p-3 mb-5 bg-white rounded\"\n                 style=\"max-width: 30rem;margin: 6px 16px\" v-if=\"item.flag==false\">\n                <div class=\"card-header\">{{item.title}}</div>\n                <div class=\"card-body\">\n\n                    <div class=\"detail-text\" v-if=\"item.description!=''\">{{item.description}}</div>\n                    <div class=\"detail-text\" v-else>暂无描述</div>\n                    <van-image\n                            width=\"305\"\n                            height=\"176\"\n                            lazy-load\n                            :src=item.descriptionImg\n                            fit=\"cover\"\n                            radius=\"5px\"\n                    />\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    // @ is an alias to /src\n\n\n    export default {\n        name: 'home',\n        components: {},\n        data() {\n            return {\n                searchValue: '',\n                imageList: [\n                    '../assets/images/h1.png',\n                ],\n                voteList: [],\n            }\n        },\n        methods: {\n            onSearch() {\n                //console.log(this.searchValue)\n            },\n            toNewVote() {\n                this.$router.push('newImageVote')\n            },\n            newQuestionnaire() {\n                this.$router.push('newQuestionnaire')\n            },\n            getVoteList: async function () {\n                let voteList = [];\n                let getVoteUrl = this.website + '/vote/getAllVote';\n                await this.axios.get(getVoteUrl).then(function (response) {\n                    if (response.data.code == 200) {\n                        voteList = response.data.data;\n                    } else {\n                        //console.log(\"所有投票信息查询失败\");\n                    }\n                }).catch(function () {\n                    //console.log( );\n                });\n                return voteList;\n            }\n        },\n        async mounted() {\n            this.voteList = await this.getVoteList();\n            for (let i in this.voteList) {\n                this.voteList[i].descriptionImg = this.imgUrl + this.voteList[i].descriptionImg;\n            }\n            // //console.log(this.voteList)\n        }\n    }\n</script>\n<style scoped>\n    .detail-text {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: block;\n        display: -webkit-box;\n        -webkit-line-clamp: 1;\n        /*! autoprefixer: off */\n        -webkit-box-orient: vertical;\n        /* autoprefixer: on */\n    }\n\n</style>\n"]}]}